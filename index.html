<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://yoursite.com">
  <title>é«˜ä¹é«˜</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="é«˜ä¹é«˜">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="é«˜ä¹é«˜">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="é«˜ä¹é«˜">
  
    <link rel="alternative" href="/atom.xml" title="é«˜ä¹é«˜" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/main.css">
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="https://avatars2.githubusercontent.com/u/20942807?v=3&amp;u=29f58348a0cff3578d3647fba8fb54bc86186c1e&amp;s=140" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">ç‰¹ä»‘è‹</a></h1>
		</hgroup>

		
		<p class="header-subtitle">åªæœ‰åŠªåŠ›æ‰èƒ½å¾—åˆ°è‡ªå·±æƒ³è¦çš„ä¸œè¥¿</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">ä¸»é¡µ</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">æ‰€æœ‰æ–‡ç« </a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">æ ‡ç­¾</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">å‹é“¾</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">å…³äºæˆ‘</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/wzj1996/wzj1996.github.io.git" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="http://weibo.com/u/3137128535" title="weibo">weibo</a>
		        
					<a class="rss" target="_blank" href="#" title="rss">rss</a>
		        
					<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">ç‰¹ä»‘è‹</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="https://avatars2.githubusercontent.com/u/20942807?v=3&amp;u=29f58348a0cff3578d3647fba8fb54bc86186c1e&amp;s=140" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">ç‰¹ä»‘è‹</h1>
			</hgroup>
			
			<p class="header-subtitle">åªæœ‰åŠªåŠ›æ‰èƒ½å¾—åˆ°è‡ªå·±æƒ³è¦çš„ä¸œè¥¿</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">ä¸»é¡µ</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/wzj1996/wzj1996.github.io.git" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/u/3137128535" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        
  
    <article id="post-æ­£åˆ™" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/21/æ­£åˆ™/">æ­£åˆ™</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h2><h3 id="1ã€ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼"><a href="#1ã€ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼"></a>1ã€ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼</h3><pre><code>æ­£åˆ™è¡¨è¾¾å¼ï¼Œåˆç§°æ­£è§„è¡¨ç¤ºå¼ã€æ­£è§„è¡¨ç¤ºæ³•ã€æ­£è§„è¡¨è¾¾å¼ã€è§„åˆ™è¡¨è¾¾å¼ã€å¸¸è§„è¡¨ç¤ºæ³•ï¼ˆè‹±è¯­ï¼šRegular Expressionï¼Œåœ¨ä»£ç ä¸­å¸¸ç®€å†™ä¸ºregexã€regexpæˆ–REï¼‰ï¼Œè®¡ç®—æœºç§‘å­¦çš„ä¸€ä¸ªæ¦‚å¿µã€‚æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨å•ä¸ªå­—ç¬¦ä¸²æ¥æè¿°ã€åŒ¹é…ä¸€ç³»åˆ—åŒ¹é…æŸä¸ªå¥æ³•è§„åˆ™çš„å­—ç¬¦ä¸²ã€‚åœ¨å¾ˆå¤šæ–‡æœ¬ç¼–è¾‘å™¨é‡Œï¼Œæ­£åˆ™è¡¨è¾¾å¼é€šå¸¸è¢«ç”¨æ¥æ£€ç´¢ã€æ›¿æ¢é‚£äº›åŒ¹é…æŸä¸ªæ¨¡å¼çš„æ–‡æœ¬ã€‚
</code></pre><h3 id="2ã€åˆ©ç”¨å›¾å½¢åŒ–å·¥å…·ç†è§£æ­£åˆ™è¡¨è¾¾å¼"><a href="#2ã€åˆ©ç”¨å›¾å½¢åŒ–å·¥å…·ç†è§£æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="2ã€åˆ©ç”¨å›¾å½¢åŒ–å·¥å…·ç†è§£æ­£åˆ™è¡¨è¾¾å¼"></a>2ã€åˆ©ç”¨å›¾å½¢åŒ–å·¥å…·ç†è§£æ­£åˆ™è¡¨è¾¾å¼</h3><pre><code>è¾…åŠ©ç†è§£æ­£åˆ™è¡¨è¾¾çš„åœ¨çº¿å·¥å…· https://regexper.com/ æˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªå·¥å…·è¾…åŠ©ç†è§£ï¼Œæ­£åˆ™è¡¨è¾¾å¼ã€‚è¯­æ³•æ²¡æ‡‚è¡¨ç€æ€¥ï¼Œåé¢ä¼šæœ‰ï¼Œè¿™é‡Œåªæ˜¯å­¦ä¼šç”¨å·¥å…·å¸®åŠ©æˆ‘ä»¬å­¦ä¹ ã€‚
</code></pre><p>æ‰‹æœºå·æ­£åˆ™</p>
<p>/^1[34578][0-9]{9}$/</p>
<p><img src="http://ac-myg6wstv.clouddn.com/1ce345adabe2cc8b2b96.jpg" alt="Mou">    </p>
<p>æ³¨é‡Šï¼šä»¥1å¼€å¤´ï¼Œç¬¬äºŒä½ä¸º3 4 5 7 9 å…¶ä¸­ä¸€ä¸ªï¼Œä»¥9ä½ï¼ˆæœ¬èº«1æ¬¡åŠ é‡å¤8æ¬¡ï¼‰0-9æ•°å­—ç»“å°¾</p>
<h5 id="å•è¯è¾¹ç•Œ"><a href="#å•è¯è¾¹ç•Œ" class="headerlink" title="å•è¯è¾¹ç•Œ"></a>å•è¯è¾¹ç•Œ</h5><p>/\bis\b/</p>
<p><img src="http://ac-myg6wstv.clouddn.com/3fd0c8d1c0e6614ddffc.jpg" alt="Mou"></p>
<p>æ³¨é‡Šï¼š iså‰åéƒ½æ˜¯å•è¯çš„è¾¹ç•Œï¼Œæ¯”è¾ƒæ™¦æ¶©éš¾æ‡‚ï¼Ÿæ„Ÿå—ä¸‹ä¸¤è€…çš„åŒºåˆ«ï¼Œ\b ä¼šæ–¹é“è¯­æ³•éƒ¨åˆ†è®²è§£</p>
<p><img src="http://ac-myg6wstv.clouddn.com/a774384e61752ce942a0.jpg" alt="Mou"></p>
<p>URLåˆ†ç»„æ›¿æ¢</p>
<p>/http:(\/\/.+.jpg)/</p>
<p>çœ‹ä¸æ‡‚çš„ä¸è¦æ…Œè¯­æ³•éƒ¨åˆ†åé¢ä¼šæœ‰ä»‹ç»ï¼Œè¿™é‡Œåªæ˜¯å±•ç¤ºåˆ©ç”¨å¯è§†åŒ–çš„å›¾å½¢å¸®åŠ©æˆ‘ä»¬ç†è§£æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¯ä»¥å›æ¥å†çœ‹æœ¨æœ‰å…³ç³»</p>
<p><img src="http://ac-myg6wstv.clouddn.com/72a64c0f5f5ba4e7eaee.jpg" alt="Mou"></p>
<p>æ­£åˆ™è¡¨è¾¾å¼ä¸­æ‹¬å·ç”¨æ¥åˆ†ç»„ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥é€šè¿‡ç”¨$1æ¥è·å– group#1çš„å†…å®¹</p>
<p><img src="http://ac-myg6wstv.clouddn.com/5c2dbd0ca13e9f444f69.jpg" alt="Mou"></p>
<p>è¯´ä¸‹è¿™ä¸ªæ­£åˆ™çš„æ„ä¹‰ï¼Œå¦‚æœç½‘ç«™ç”¨äº†httpsï¼Œç½‘ç«™å¼•ç”¨é™æ€èµ„æºä¹Ÿå¿…é¡»æ˜¯httpsï¼Œå¦åˆ™æŠ¥é”™ã€‚å¦‚æœå†™æˆ // ä¼šè‡ªåŠ¨è¯†åˆ« http æˆ–è€… https</p>
<p>æ—¥æœŸåŒ¹é…ä¸åˆ†ç»„æ›¿æ¢</p>
<p>/^\d{4}[/-]\d{2}[/-]\d{2}$/</p>
<p><img src="http://ac-myg6wstv.clouddn.com/eeb1d71e254fde06090e.jpg" alt="Mou"></p>
<p>è½»æ¾çš„å¯ä»¥æ‹¿åˆ° group#1 #2 #3 çš„å†…å®¹ï¼Œå¯¹åº” $1 $2 $3</p>
<p><img src="http://ac-myg6wstv.clouddn.com/1a40fca9e0e3e2f2f50d.jpg" alt="Mou"></p>
<p>åˆ°ç°åœ¨å·²ç»èƒ½ç»“åˆå›¾å½¢åŒ–å·¥å…·çœ‹æ‡‚æ­£åˆ™è¡¨è¾¾å¼è¡¨è¾¾å¼äº†ï¼Œå¦‚æœæƒ³è‡ªå·±å†™ï¼Œè¿˜è¦åœ¨æ­£åˆ™è¯­æ³•ä¸Šä¸‹ç‚¹åŠŸå¤«</p>
<h2 id="æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•"><a href="#æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•"></a>æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•</h2><p>1 ä¿®é¥°ç¬¦ ï¼ˆä¸‰ä¸ª g i mï¼‰</p>
<p>ä¿®é¥°ç¬¦ä¸å…¶ä»–è¯­æ³•ç‰¹æ®Šï¼Œå­—é¢é‡æ–¹æ³•å£°åçš„æ—¶å€™æ”¾åˆ°//åï¼Œæ„é€ å‡½æ•°å£°æ˜çš„æ—¶å€™ï¼Œä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ã€‚æ•´ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯ä»¥ç†è§£ä¸ºæ­£åˆ™è¡¨è¾¾å¼è§„åˆ™å­—ç¬¦ä¸²+ä¿®é¥°ç¬¦</p>
<pre><code>gï¼šglobal æ‰§è¡Œä¸€ä¸ªå…¨å±€åŒ¹é…
iï¼šignore caseæ‰§è¡Œä¸€ä¸ªä¸åŒºåˆ†å¤§å°å†™çš„åŒ¹é…
m: multiple lineså¤šè¡ŒåŒ¹é…
</code></pre><p>ä¿®é¥°ç¬¦å¯ä»¥ä¸€èµ·ç”¨ const reg =/\bis\b/gim<br>æ¥è¯´è¯´ä»–ä»¬æœ‰ä»€ä¹ˆä½œç”¨<br>æœ‰gå’Œæ²¡æœ‰gçš„åŒºåˆ«</p>
<p><img src="http://ac-myg6wstv.clouddn.com/d7f51998f922e51426cb.jpg" alt="Mou"></p>
<p>æ²¡æœ‰gåªæ›¿æ¢äº†ç¬¬ä¸€ä¸ªï¼Œæœ‰g æ‰€æœ‰çš„éƒ½æ¢äº†</p>
<p><img src="http://ac-myg6wstv.clouddn.com/152cde1cd3cd1c4cb63e.jpg" alt="Mou"></p>
<p>æœ‰iå’Œæ²¡æœ‰içš„åŒºåˆ«</p>
<p><img src="http://ac-myg6wstv.clouddn.com/9048c3bafe0914a065cc.jpg" alt="Mou"></p>
<p>æœ‰iå¿½ç•¥å¤§å°å†™ï¼Œæ²¡æœ‰iä¸¥æ ¼åŒºåˆ†å¤§å°å†™<br><img src="http://ac-myg6wstv.clouddn.com/bb10c84bef012f611b82.jpg" alt="Mou"></p>
<p>å…ƒå­—ç¬¦</p>
<p>æ­£åˆ™è¡¨è¾¾å¼ç”±ä¸¤ç§åŸºæœ¬å­—ç¬¦ç»„æˆï¼š</p>
<pre><code>åŸä¹‰å­—ç¬¦
éæ‰“å°å­—ç¬¦
å…ƒå­—ç¬¦ (* + ? $ ^ . | \ ( ) { } [ ])
</code></pre><p> åŸä¹‰å­—ç¬¦</p>
<p> è¿™ä¸ªæ²¡ä»€ä¹ˆå¥½è§£é‡Šçš„ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨ä¸¾ä¾‹çš„ /is/ åŒ¹é…å­—ç¬¦ä¸²â€™isâ€™</p>
<p> \å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŸä¹‰å­—ç¬¦ã€æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€æˆ–ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œnâ€åŒ¹é…å­—ç¬¦â€œnâ€ã€‚â€œ\nâ€åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚åºåˆ—â€œ\â€åŒ¹é…â€œ\â€è€Œâ€œ(â€åˆ™åŒ¹é…â€œ(â€</p>
<p>å­—ç¬¦ç±»å–å [^]</p>
<h4 id="è¡¨ç¤ºä¸å±äºæ­¤ç±»"><a href="#è¡¨ç¤ºä¸å±äºæ­¤ç±»" class="headerlink" title="è¡¨ç¤ºä¸å±äºæ­¤ç±»"></a>è¡¨ç¤ºä¸å±äºæ­¤ç±»</h4><p><img src="http://ac-myg6wstv.clouddn.com/2388def90c799b216e5f.jpg" alt="Mou"><br>ç©ºæ ¼ä¹Ÿä¸å±äºï¼Œå¥½å¤šç‹—ğŸ¶</p>
<p>èŒƒå›´ç±»[-]</p>
<p>æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒä¸€å®šèŒƒå›´è§„åˆ™æ¯”å¦‚ [a-z] [A-Z] [0-9] å¯ä»¥è¿å†™[a-z0-9] å¦‚æœä½ åªæ˜¯æƒ³åŒ¹é…-åœ¨ èŒƒå›´ç±»æœ€ååŠ -å³å¯ã€‚è¯·çœ‹å®ä¾‹ã€‚</p>
<p><img src="http://ac-myg6wstv.clouddn.com/546fdd8b997bb4bc88a9.jpg" alt="Mou"></p>
<p> é¢„å®šä¹‰ç±»</p>
<p>å¸¸ç”¨ä¸ºäº†æ–¹ä¾¿ä¹¦å†™</p>
<pre><code>å­—ç¬¦        ç­‰ä»·ç±»                    å«ä¹‰
.        [^\n\r]                é™¤äº†å›è½¦ç¬¦å’Œæ¢è¡Œç¬¦ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦
\d        [0-9]                æ•°å­—å­—ç¬¦
\D        [^0-9]                éæ•°å­—å­—ç¬¦
\s        [\t\n\x0B\f\r]        ç©ºç™½ç¬¦
\S        [^\t\n\x0B\f\r]        éç©ºç™½ç¬¦
\w        [a-zA-Z_0-9]        å•è¯å­—ç¬¦ï¼ˆå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼‰
\W        [^a-zA-Z_0-9]        éå•è¯å­—ç¬¦
</code></pre><p>æœ‰äº†è¿™äº›é¢„å®šä¹‰ç±»ï¼Œå†™ä¸€äº›æ­£åˆ™å°±å¾ˆæ–¹ä¾¿äº†ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸Œæœ›åŒ¹é…ä¸€ä¸ª ab+æ•°å­—+ä»»æ„å­—ç¬¦ çš„å­—ç¬¦ä¸²ï¼Œå°±å¯ä»¥è¿™æ ·å†™äº† /ab\d./<br><img src="http://ac-myg6wstv.clouddn.com/13f9df65830c8ab8777a.jpg" alt="Mou"></p>
<p>è¾¹ç•Œ</p>
<pre><code>å­—ç¬¦        å«ä¹‰

^        ä»¥xxå¼€å¤´
$        ä»¥xxç»“å°¾
\b        å•è¯è¾¹ç•Œï¼ŒæŒ‡[a-zA-Z_0-9]ä¹‹å¤–çš„å­—ç¬¦
\B        éå•è¯è¾¹ç•Œ
</code></pre><p>è¾¹ç•Œé¡¾åæ€ä¹‰å³å®šä¹‰åŒ¹é…çš„è¾¹ç•Œæ¡ä»¶ï¼Œä¸Šé¢åŸºæœ¬éƒ½åœ¨å‰é¢çš„ä¾‹å­ç¢°åˆ°äº†ï¼Œè¿™é‡Œæ¼”ç¤ºä¸‹\bä¸\B çš„åŒºåˆ«</p>
<p><img src="http://ac-myg6wstv.clouddn.com/4a401fa730bc568015b7.jpg" alt="Mou"></p>
<p>é‡è¯</p>
<pre><code>å­—ç¬¦            å«ä¹‰

?        å‡ºç°é›¶æ¬¡æˆ–ä¸€æ¬¡
*        å‡ºç°é›¶æ¬¡æˆ–å¤šæ¬¡(ä»»æ„æ¬¡)
+        å‡ºç°ä¸€æ¬¡æˆ–å¤šæ¬¡ï¼ˆè‡³é“ä¸€æ¬¡ï¼‰
{n}        å¯¹åº”é›¶æ¬¡æˆ–è€…næ¬¡
{n,m}    è‡³å°‘å‡ºç°næ¬¡ä½†ä¸è¶…è¿‡mæ¬¡
{n,}    è‡³å°‘å‡ºç°næ¬¡(+çš„å‡çº§ç‰ˆ)
{0,n}    è‡³å¤šå‡ºç°næ¬¡(å…¶å®å°±æ˜¯{n,m} æ–¹ä¾¿è®°å¿†è€Œå·²)
</code></pre><p>å¦‚æœæ²¡æœ‰é‡è¯ï¼Œè¦åŒ¹é…4ä½æ•°å­—è¿™æ ·å†™å°±å¯ä»¥/\d\d\d\d/, å¦‚æœåŒ¹é…50ä½100ä½å‘¢ï¼Ÿé‚£ä¸æ˜¯è¦ç–¯æ‰äº†ï¼Ÿ<br>æœ‰äº†é‡è¯ï¼Œå°±å¯ä»¥è¿™æ ·å†™/\d{100}/, é‡è¯çš„ä½¿ç”¨æˆ‘ä»¬åœ¨æ‰‹æœºå·ä¸­ä½¿ç”¨è¿‡ï¼Œè¡¨ç°åœ¨å¯è§†åŒ–ä¸­å°±æ˜¯å¾ªç¯å¤šå°‘æ¬¡ã€‚</p>
<p>å‡‘ä¸€ä¸ªä¸Šé¢éƒ½åŒ…å«çš„å®ä¾‹/\d?@\d*@\d+@\d{10}@\d{10,20}@\d{10,}@\d{0,10}/</p>
<p><img src="http://ac-myg6wstv.clouddn.com/92296621793c1e9b289e.jpg" alt="Mou"></p>
<p>è´ªå©ªä¸æ‡’æƒ°ï¼ˆéè´ªå©ªï¼‰</p>
<p>æ­£åˆ™è¡¨è¾¾å¼é»˜è®¤ä¼šåŒ¹é…è´ªå©ªæ¨¡å¼ï¼Œä»€ä¹ˆæ˜¯è´ªå©ªæ¨¡å¼å‘¢ï¼Ÿå¦‚å…¶åå°½å¯èƒ½å¤šçš„åŒ¹é…ã€‚æˆ‘ä»¬çœ‹ä¸ªä¾‹å­ğŸŒ°ã€‚</p>
<p>/\d{3,6}/</p>
<p><img src="http://ac-myg6wstv.clouddn.com/54f23af7ec7334fdf56b.jpg" alt="Mou"></p>
<p><img src="http://ac-myg6wstv.clouddn.com/00f41398667e7d54b4c6.jpg" alt="Mou"></p>
<p>è´ªå©ªæ¨¡å¼ä¸‹ï¼ŒåŒ¹é…çš„äº†æœ€å¤šçš„æƒ…å†µã€‚</p>
<p>ä¸è´ªå©ªå¯¹åº”å°±æ˜¯æ‡’æƒ°æ¨¡å¼ï¼Œæ‡’æƒ°å¯¹åº”çš„å°±æ˜¯åŒ¹é…çš„å°½å¯èƒ½å°‘çš„æƒ…å†µã€‚å¦‚ä½•å¼€å¯æ‡’æƒ°æ¨¡å¼ï¼Ÿ åœ¨é‡è¯åé¢åŠ ?ã€‚ç»§ç»­ä¸Šé¢çš„ä¾‹å­</p>
<p>/\d{3,6}?/</p>
<p><img src="http://ac-myg6wstv.clouddn.com/0232a2388ba315d4b197.jpg" alt="Mou"></p>
<p>å¦‚æœæƒ³çŸ¥é“ï¼Œæ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦‚ä½•åŒ¹é…é‡è¯çš„ï¼Œè¯·çœ‹ è¿›é˜¶æ­£åˆ™è¡¨è¾¾å¼ æ–‡ä¸­æœ‰ä»‹ç»ï¼Œæ­£åˆ™æ˜¯å¦‚ä½•å›æº¯çš„ã€‚</p>
<p>åˆ†ç»„ä¸åå‘å¼•ç”¨</p>
<p>åˆ†ç»„ï¼Œåˆç§°ä¸ºå­è¡¨è¾¾å¼ã€‚æŠŠæ­£åˆ™è¡¨è¾¾å¼æ‹†åˆ†æˆå°è¡¨è¾¾å¼ã€‚æ¦‚å¿µæ¯ç‡¥ï¼Œè¯´ä¸ªä¾‹å­ä¸ºå˜›ç”¨åˆ†ç»„ï¼š</p>
<p>ä¸åˆ†ç»„ /abc{2}/</p>
<p><img src="http://ac-myg6wstv.clouddn.com/20a5e736228756898ec0.jpg" alt="Mou"></p>
<p>é‡è¯ä»…ä½œç”¨åˆ°æœ€åçš„c</p>
<p>åˆ†ç»„ /(abc){2}/</p>
<p><img src="http://ac-myg6wstv.clouddn.com/903fec7cc8e8f27b81e6.jpg" alt="Mou"></p>
<p>æ³¨æ„è¿™é‡Œ group #1</p>
<p>åˆ†ç»„è™½ç„¶å’Œè¿ç®—ç¬¦() å¾ˆåƒï¼Œä½†æ˜¯åˆ†ç»„åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œæ³¨æ„ç†è§£ç»„çš„å«ä¹‰ã€‚ç»å¸¸æœ‰äººæ»¥ç”¨åˆ†ç»„</p>
<p>/^(http|https)/ çœŸçš„éœ€è¦è¿™æ ·ä¹ˆï¼Ÿå…¶å® /^https?/å°±å¯ä»¥äº†ï¼Œä½ æ­£åˆ™å†™çš„ç‰¹åˆ«é•¿çš„æ—¶å€™ï¼Œä¼šå‡ºç°ä¸€å †æ²¡ç”¨çš„ç»“æœï¼Œçœ‹ç€éƒ½å¤´ç–¼å§ã€‚</p>
<p>åˆ†ç»„å¾€å¾€å’Œåå‘å¼•ç”¨ä¸€èµ·ä½¿ç”¨ï¼Œåˆ«è¢«æ¦‚å¿µå“åˆ°ï¼šå½“ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼è¢«åˆ†ç»„åï¼Œæ¯ä¸ªåˆ†ç»„è‡ªåŠ¨è¢«èµ‹äºˆä¸€ä¸ªç»„å·ï¼Œä¸€å·¦åˆ°å³åˆ†åˆ«æ˜¯ $1 $2â€¦</p>
<p>å†æŠŠä¹‹å‰çš„ä¾‹å­æ‹¿å‡ºæ¥</p>
<p>/^(\d{4})<a href="\d{2}">/-</a><a href="\d{2}">/-</a>$/</p>
<p><img src="http://ac-myg6wstv.clouddn.com/126a6de5f1367f9f4c5e.jpg" alt="Mou"></p>
<p>è½»æ¾çš„å¯ä»¥æ‹¿åˆ° group#1 #2 #3 çš„å†…å®¹ï¼Œå¯¹åº” $1 $2 $3</p>
<p><img src="http://ac-myg6wstv.clouddn.com/1a40fca9e0e3e2f2f50d.jpg" alt="Mou"></p>
<p>å¦‚æœåœ¨åå‘å¼•ç”¨ä¸­ä¸æƒ³æ•è·å¹´è¯¥å¦‚ä½•æ“ä½œ? åŠ ä¸Š ?:å³å¯</p>
<p>/^(?:\d{4})<a href="\d{2}">/-</a><a href="\d{2}">/-</a>$/</p>
<p><img src="http://ac-myg6wstv.clouddn.com/23ff76b527b991c29faf.jpg" alt="Mou"></p>
<h3 id="over"><a href="#over" class="headerlink" title="over"></a>over</h3>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/01/21/æ­£åˆ™/" class="archive-article-date">
  	<time datetime="2016-01-21T11:11:28.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-01-21</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>








<!-- å¤šè¯´è¯„è®ºæ¡† start -->
  <div class="ds-thread" data-thread-key="post-æ­£åˆ™" data-title="æ­£åˆ™" data-url="undefined"></div>

<!-- å¤šè¯´è¯„è®ºæ¡† end -->
<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"wzj1996"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->

  
    <article id="post-JavaScriptåˆ›å»ºå¯¹è±¡çš„7ç§æ–¹æ³•" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/17/JavaScriptåˆ›å»ºå¯¹è±¡çš„7ç§æ–¹æ³•/">JavaScriptåˆ›å»ºå¯¹è±¡çš„7ç§æ–¹æ³•</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>é¦–å…ˆè§£é‡Šå‡ ä¸ªæ¦‚å¿µï¼š</p>
<pre><code>1ã€å¯¹è±¡ ä¸‹é¢ä¾‹å­ä¸­æ‰€æœ‰çš„Personå‡½æ•°
2ã€å®ä¾‹/å¯¹è±¡å®ä¾‹ é€šè¿‡new Person() or Person()è¿”å›çš„å¯¹è±¡ï¼Œå¦‚var person1 = new Person()ä¸­çš„person1
3ã€åŸå‹å¯¹è±¡Person.prototype
</code></pre><h3 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title="å·¥å‚æ¨¡å¼"></a>å·¥å‚æ¨¡å¼</h3><pre><code>function Person() {
var o = new Object();
o.name = &apos;hanmeimei&apos;;
o.say = function() {
alert(this.name);
}
return o;
}
var person1 = Person();
</code></pre><p>ä¼˜ç‚¹ï¼šå®Œæˆäº†è¿”å›ä¸€ä¸ªå¯¹è±¡çš„è¦æ±‚ã€‚    </p>
<p>ç¼ºç‚¹ï¼š</p>
<pre><code>1ã€æ— æ³•é€šè¿‡constructorè¯†åˆ«å¯¹è±¡ï¼Œä»¥ä¸ºéƒ½æ˜¯æ¥è‡ªObjectï¼Œæ— æ³•å¾—çŸ¥æ¥è‡ªPerson
2ã€æ¯æ¬¡é€šè¿‡Personåˆ›å»ºå¯¹è±¡çš„æ—¶å€™ï¼Œæ‰€æœ‰çš„sayæ–¹æ³•éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯å´å­˜å‚¨äº†å¤šæ¬¡ï¼Œæµªè´¹èµ„æºã€‚
</code></pre><h3 id="æ„é€ å‡½æ•°æ¨¡å¼"><a href="#æ„é€ å‡½æ•°æ¨¡å¼" class="headerlink" title="æ„é€ å‡½æ•°æ¨¡å¼"></a>æ„é€ å‡½æ•°æ¨¡å¼</h3><pre><code>function Person() {
this.name = &apos;hanmeimei&apos;;
this.say = function() {
alert(this.name)
}
}
var person1 = new Person();    
</code></pre><p>ä¼˜ç‚¹ï¼š</p>
<pre><code>1ã€é€šè¿‡constructoræˆ–è€…instanceofå¯ä»¥è¯†åˆ«å¯¹è±¡å®ä¾‹çš„ç±»åˆ«
2ã€å¯ä»¥é€šè¿‡new å…³é”®å­—æ¥åˆ›å»ºå¯¹è±¡å®ä¾‹ï¼Œæ›´åƒOOè¯­è¨€ä¸­åˆ›å»ºå¯¹è±¡å®ä¾‹
</code></pre><p>ç¼ºç‚¹ï¼š</p>
<pre><code>å¤šä¸ªå®ä¾‹çš„sayæ–¹æ³•éƒ½æ˜¯å®ç°ä¸€æ ·çš„æ•ˆæœï¼Œä½†æ˜¯å´å­˜å‚¨äº†å¾ˆå¤šæ¬¡ï¼ˆä¸¤ä¸ªå¯¹è±¡å®ä¾‹çš„sayæ–¹æ³•æ˜¯ä¸åŒçš„ï¼Œå› ä¸ºå­˜æ”¾çš„åœ°å€ä¸åŒï¼‰
</code></pre><p>æ³¨æ„ï¼š</p>
<pre><code>1ã€æ„é€ å‡½æ•°æ¨¡å¼éšè¯•çš„åœ¨æœ€åè¿”å›return this æ‰€ä»¥åœ¨ç¼ºå°‘newçš„æƒ…å†µä¸‹ï¼Œä¼šå°†å±æ€§å’Œæ–¹æ³•æ·»åŠ ç»™å…¨å±€å¯¹è±¡ï¼Œæµè§ˆå™¨ç«¯å°±ä¼šæ·»åŠ ç»™windowå¯¹è±¡ã€‚
2ã€ä¹Ÿå¯ä»¥æ ¹æ®return this çš„ç‰¹æ€§è°ƒç”¨callæˆ–è€…applyæŒ‡å®šthisã€‚è¿™ä¸€ç‚¹åœ¨åé¢çš„ç»§æ‰¿æœ‰å¾ˆå¤§å¸®åŠ©ã€‚        
</code></pre><h3 id="åŸå‹æ¨¡å¼"><a href="#åŸå‹æ¨¡å¼" class="headerlink" title="åŸå‹æ¨¡å¼"></a>åŸå‹æ¨¡å¼</h3><pre><code>function Person() {}
Person.prototype.name = &apos;hanmeimei&apos;;
Person.prototype.say = function() {
alert(this.name);
}
Person.prototype.friends = [&apos;lilei&apos;];
var person1 = new Person();
</code></pre><p>ä¼˜ç‚¹ï¼š</p>
<pre><code>1ã€sayæ–¹æ³•æ˜¯å…±äº«çš„äº†ï¼Œæ‰€æœ‰çš„å®ä¾‹çš„sayæ–¹æ³•éƒ½æŒ‡å‘åŒä¸€ä¸ªã€‚

2ã€å¯ä»¥åŠ¨æ€çš„æ·»åŠ åŸå‹å¯¹è±¡çš„æ–¹æ³•å’Œå±æ€§ï¼Œå¹¶ç›´æ¥åæ˜ åœ¨å¯¹è±¡å®ä¾‹ä¸Šã€‚    

var person1 = new Person()
Person.prototype.showFriends = function() {
console.log(this.friends)
}
person1.showFriends()  //[&apos;lilei&apos;]    
</code></pre><p>ç¼ºç‚¹ï¼š</p>
<pre><code>1ã€å‡ºç°å¼•ç”¨çš„æƒ…å†µä¸‹ä¼šå‡ºç°é—®é¢˜å…·ä½“è§ä¸‹é¢ä»£ç ï¼š

    var person1 = new Person();
    var person2 = new Person();
    person1.friends.push(&apos;xiaoming&apos;);
    console.log(person2.friends)  //[&apos;lilei&apos;, &apos;xiaoming&apos;]

å› ä¸ºjså¯¹å¼•ç”¨ç±»å‹çš„èµ‹å€¼éƒ½æ˜¯å°†åœ°å€å­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œæ‰€ä»¥person1å’Œperson2çš„friendså±æ€§æŒ‡å‘çš„æ˜¯åŒä¸€å—å­˜å‚¨åŒºåŸŸã€‚

2ã€ç¬¬ä¸€æ¬¡è°ƒç”¨sayæ–¹æ³•æˆ–è€…nameå±æ€§çš„æ—¶å€™ä¼šæœç´¢ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ˜¯åœ¨å®ä¾‹ä¸Šå¯»æ‰¾sayæ–¹æ³•ï¼Œæ²¡æœ‰æ‰¾åˆ°å°±å»åŸå‹å¯¹è±¡(Person.prototype)ä¸Šæ‰¾sayæ–¹æ³•ï¼Œæ‰¾åˆ°åå°±ä¼šåœ¨å®åŠ›ä¸Šæ·»åŠ è¿™äº›æ–¹æ³•orå±æ€§ã€‚

3ã€æ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¯å…±äº«çš„ï¼Œæ²¡æœ‰åŠæ³•åˆ›å»ºå®ä¾‹è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ï¼Œä¹Ÿæ²¡æœ‰åŠæ³•åƒæ„é€ å‡½æ•°é‚£æ ·ä¼ é€’å‚æ•°ã€‚
</code></pre><p>æ³¨æ„ï¼š</p>
<pre><code>1ã€ä¼˜ç‚¹â‘¡ä¸­å­˜åœ¨ä¸€ä¸ªé—®é¢˜å°±æ˜¯ç›´æ¥é€šè¿‡å¯¹è±¡å­—é¢é‡ç»™Person.prototypeè¿›è¡Œèµ‹å€¼çš„æ—¶å€™ä¼šå¯¼è‡´constructoræ”¹å˜ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨è®¾ç½®ï¼Œå…¶æ¬¡å°±æ˜¯é€šè¿‡å¯¹è±¡å­—é¢é‡ç»™Person.prototypeè¿›è¡Œèµ‹å€¼ï¼Œä¼šæ— æ³•ä½œç”¨åœ¨ä¹‹å‰åˆ›å»ºçš„å¯¹è±¡å®ä¾‹ä¸Š
var person1 = new Person()
Person.prototype = {
name: &apos;hanmeimei2&apos;,
setName: function(name){
  this.name = name
  }
  }
  person1.setName()   //Uncaught TypeError: person1.set is not a function(â€¦)

  è¿™æ˜¯å› ä¸ºå¯¹è±¡å®ä¾‹å’Œå¯¹è±¡åŸå‹ç›´æ¥æ˜¯é€šè¿‡ä¸€ä¸ªæŒ‡é’ˆé“¾æ¥çš„ï¼Œè¿™ä¸ªæŒ‡é’ˆæ˜¯ä¸€ä¸ªå†…éƒ¨å±æ€§[[Prototype]]ï¼Œå¯ä»¥é€šè¿‡__proto__è®¿é—®ã€‚æˆ‘ä»¬é€šè¿‡å¯¹è±¡å­—é¢é‡ä¿®æ”¹äº†Person.prototypeæŒ‡å‘çš„åœ°å€ï¼Œç„¶è€Œå¯¹è±¡å®ä¾‹çš„__proto__ï¼Œå¹¶æ²¡æœ‰è·Ÿç€ä¸€èµ·æ›´æ–°ï¼Œæ‰€ä»¥è¿™å°±å¯¼è‡´ï¼Œå®ä¾‹è¿˜è®¿é—®ç€åŸæ¥çš„Person.prototypeï¼Œæ‰€ä»¥å»ºè®®ä¸è¦é€šè¿‡è¿™ç§æ–¹å¼å»æ”¹å˜Person.prototypeå±æ€§
</code></pre><h3 id="æ„é€ å‡½æ•°å’ŒåŸå‹ç»„åˆæ¨¡å¼"><a href="#æ„é€ å‡½æ•°å’ŒåŸå‹ç»„åˆæ¨¡å¼" class="headerlink" title="æ„é€ å‡½æ•°å’ŒåŸå‹ç»„åˆæ¨¡å¼"></a>æ„é€ å‡½æ•°å’ŒåŸå‹ç»„åˆæ¨¡å¼</h3><pre><code>function Person(name) {
this.name = name
this.friends = [&apos;lilei&apos;]
}
Person.prototype.say = function() {
console.log(this.name)
}
var person1 = new Person(&apos;hanmeimei&apos;)
person1.say() //hanmeimei
</code></pre><p>ä¼˜ç‚¹ï¼š</p>
<pre><code>1ã€è§£å†³äº†åŸå‹æ¨¡å¼å¯¹äºå¼•ç”¨å¯¹è±¡çš„ç¼ºç‚¹
2ã€è§£å†³äº†åŸå‹æ¨¡å¼æ²¡æœ‰åŠæ³•ä¼ é€’å‚æ•°çš„ç¼ºç‚¹
3ã€è§£å†³äº†æ„é€ å‡½æ•°æ¨¡å¼ä¸èƒ½å…±äº«æ–¹æ³•çš„ç¼ºç‚¹
</code></pre><p>ç¼ºç‚¹ï¼š</p>
<pre><code>1ã€å’ŒåŸå‹æ¨¡å¼ä¸­æ³¨æ„â‘ ä¸€æ ·
</code></pre><h3 id="åŠ¨æ€åŸå‹æ¨¡å¼"><a href="#åŠ¨æ€åŸå‹æ¨¡å¼" class="headerlink" title="åŠ¨æ€åŸå‹æ¨¡å¼"></a>åŠ¨æ€åŸå‹æ¨¡å¼</h3><pre><code>function Person(name) {
this.name = name
if(typeof this.say != &apos;function&apos;) {
Person.prototype.say = function(
alert(this.name)
}
}
</code></pre><p>ä¼˜ç‚¹ï¼š</p>
<pre><code>1ã€å¯ä»¥åœ¨åˆæ¬¡è°ƒç”¨æ„é€ å‡½æ•°çš„æ—¶å€™å°±å®ŒæˆåŸå‹å¯¹è±¡çš„ä¿®æ”¹
2ã€ä¿®æ”¹èƒ½ä½“ç°åœ¨æ‰€æœ‰çš„å®ä¾‹ä¸­
3ã€ç¼ºç‚¹ï¼šçº¢å®ä¹¦éƒ½è¯´è¿™ä¸ªæ–¹æ¡ˆå®Œç¾äº†ã€‚ã€‚ã€‚ã€‚
</code></pre><p>æ³¨æ„ï¼š</p>
<pre><code>1ã€åªç”¨æ£€æŸ¥ä¸€ä¸ªåœ¨æ‰§è¡Œååº”è¯¥å­˜åœ¨çš„æ–¹æ³•æˆ–è€…å±æ€§å°±è¡Œäº†
2ã€ä¸èƒ½ç”¨å¯¹è±¡å­—é¢é‡ä¿®æ”¹åŸå‹å¯¹è±¡
</code></pre><h3 id="å¯„ç”Ÿæ„é€ å‡½æ•°æ¨¡å¼"><a href="#å¯„ç”Ÿæ„é€ å‡½æ•°æ¨¡å¼" class="headerlink" title="å¯„ç”Ÿæ„é€ å‡½æ•°æ¨¡å¼"></a>å¯„ç”Ÿæ„é€ å‡½æ•°æ¨¡å¼</h3><pre><code>function Person(name) {
var o = new Object()
o.name = name
o.say = function() {
alert(this.name)
}
return o
}
var peron1 = new Person(&apos;hanmeimei&apos;)
</code></pre><p>ä¼˜ç‚¹ï¼š</p>
<pre><code>1ã€å’Œå·¥å‚æ¨¡å¼åŸºæœ¬ä¸€æ ·ï¼Œé™¤äº†å¤šäº†ä¸ªnewæ“ä½œç¬¦
</code></pre><p>ç¼ºç‚¹ï¼š</p>
<pre><code>2ã€å’Œå·¥å‚æ¨¡å¼ä¸€æ ·ï¼Œä¸èƒ½åŒºåˆ†å®ä¾‹çš„ç±»åˆ«
</code></pre><h3 id="ç¨³å¦¥æ„é€ æ¨¡å¼"><a href="#ç¨³å¦¥æ„é€ æ¨¡å¼" class="headerlink" title="ç¨³å¦¥æ„é€ æ¨¡å¼"></a>ç¨³å¦¥æ„é€ æ¨¡å¼</h3><pre><code>function Person(name) {
var o = new Object()
o.say = function() {
alert(name)
}
}
var person1 = new Person(&apos;hanmeimei&apos;);
person1.name  // undefined
person1.say() //hanmeimei
</code></pre><p>ä¼˜ç‚¹ï¼š</p>
<pre><code>1ã€å®‰å…¨ï¼Œé‚£ä¹ˆå¥½åƒæˆä¸ºäº†ç§æœ‰å˜é‡ï¼Œåªèƒ½é€šè¿‡sayæ–¹æ³•å»è®¿é—®
</code></pre><p>ç¼ºç‚¹ï¼š</p>
<pre><code>1ã€ä¸èƒ½åŒºåˆ†å®ä¾‹çš„ç±»åˆ«
</code></pre><p>over!!~~~</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/01/17/JavaScriptåˆ›å»ºå¯¹è±¡çš„7ç§æ–¹æ³•/" class="archive-article-date">
  	<time datetime="2016-01-17T03:42:32.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-01-17</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>








<!-- å¤šè¯´è¯„è®ºæ¡† start -->
  <div class="ds-thread" data-thread-key="post-JavaScriptåˆ›å»ºå¯¹è±¡çš„7ç§æ–¹æ³•" data-title="JavaScriptåˆ›å»ºå¯¹è±¡çš„7ç§æ–¹æ³•" data-url="undefined"></div>

<!-- å¤šè¯´è¯„è®ºæ¡† end -->
<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"wzj1996"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->

  
    <article id="post-javascriptæ•°æ®ç»“æ„-é“¾è¡¨" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/17/javascriptæ•°æ®ç»“æ„-é“¾è¡¨/">javascriptæ•°æ®ç»“æ„--é“¾è¡¨</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <pre><code>é“¾è¡¨å°±è¦æ¥çš„éšæ€§çš„å¤šï¼Œç®€å•çš„ç†è§£å¯ä»¥æ˜¯è¿™æ ·ï¼šåœ¨å†…å­˜ä¸­ï¼Œæ ˆå’Œé˜Ÿåˆ—ï¼ˆæ•°ç»„ï¼‰çš„å­˜åœ¨å°±æ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œå¦‚æœæƒ³è¦å¯¹å¥¹å†…éƒ¨æŸä¸€ä¸ªå…ƒç´ è¿›è¡Œç§»é™¤æˆ–æ˜¯æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ å°±è¦åŠ¨å¥¹å†…éƒ¨æ‰€æœ‰çš„å…ƒç´ ï¼Œæ‰€è°“ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ï¼›è€Œé“¾è¡¨åˆ™ä¸ä¸€æ ·ï¼Œæ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ç”±å…ƒç´ æœ¬èº«æ•°æ®å’ŒæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆæ„æˆï¼Œæ‰€ä»¥æ·»åŠ æˆ–æ˜¯ç§»é™¤æŸä¸€ä¸ªå…ƒç´ ä¸éœ€è¦å¯¹é“¾è¡¨æ•´ä½“è¿›è¡Œæ“ä½œï¼Œåªéœ€è¦æ”¹å˜ç›¸å…³å…ƒç´ çš„æŒ‡é’ˆæŒ‡å‘å°±å¯ä»¥äº†

é“¾è¡¨åœ¨å®é™…ç”Ÿæ´»ä¸­çš„ä¾‹å­ä¹Ÿæœ‰å¾ˆå¤šï¼Œæ¯”å¦‚è‡ªè¡Œè½¦çš„é“¾æ¡ï¼Œç¯ç¯ç›¸æ‰£ï¼Œä½†æ·»åŠ æˆ–æ˜¯ç§»é™¤æŸä¸€ä¸ªç¯èŠ‚åªéœ€è¦å¯¹ç—‡ä¸‹è¯ï¼Œå¯¹ç›¸å…³ç¯èŠ‚è¿›è¡Œæ“ä½œå°±OKã€‚å†æ¯”å¦‚ï¼šç«è½¦ï¼Œç«è½¦å°±æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ä¸€èŠ‚è½¦å¢å°±æ˜¯å…ƒç´ ï¼Œæƒ³è¦ç§»é™¤æˆ–æ˜¯æ·»åŠ æŸä¸€èŠ‚è½¦å¢ï¼Œåªéœ€è¦æŠŠè¿æ¥è½¦å¢çš„é“¾æ¡æ”¹å˜ä¸€ä¸‹å°±å¥½äº†ã€‚é‚£ä¹ˆï¼Œåœ¨javascriptä¸­åˆè¯¥æ€ä¹ˆå»å®ç°é“¾è¡¨ç»“æ„å‘¢ï¼Ÿ
</code></pre><h2 id="é“¾è¡¨çš„åˆ›å»º"><a href="#é“¾è¡¨çš„åˆ›å»º" class="headerlink" title="é“¾è¡¨çš„åˆ›å»º"></a>é“¾è¡¨çš„åˆ›å»º</h2><p>é¦–å…ˆæˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªé“¾è¡¨ç±»ï¼š</p>
<pre><code>function LinkedList(){
//å„ç§å±æ€§å’Œæ–¹æ³•çš„å£°æ˜
}
</code></pre><p>ç„¶åæˆ‘ä»¬éœ€è¦ä¸€ç§æ•°æ®ç»“æ„æ¥ä¿å­˜é“¾è¡¨é‡Œé¢çš„æ•°æ®ï¼š</p>
<pre><code>var Node=function(element){
this.element=element;
this.next=null;}
//Nodeç±»è¡¨ç¤ºè¦æ·»åŠ çš„å…ƒç´ ï¼Œä»–æœ‰ä¸¤ä¸ªå±æ€§ï¼Œä¸€ä¸ªæ˜¯elementï¼Œè¡¨ç¤ºæ·»åŠ åˆ°é“¾è¡¨ä¸­çš„å…·ä½“çš„å€¼ï¼›å¦ä¸€ä¸ªæ˜¯next,è¡¨ç¤ºè¦æŒ‡å‘é“¾è¡¨ä¸­ä¸‹ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚
</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ç»™é“¾è¡¨å£°æ˜ä¸€äº›æ–¹æ³•ï¼š</p>
<pre><code>Â·append(element):å‘é“¾è¡¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ ï¼›
Â·insert(position,element):å‘é“¾è¡¨ç‰¹å®šä½ç½®æ’å…¥å…ƒç´ ï¼›
Â·remove(element):ä»é“¾è¡¨ç§»é™¤ä¸€é¡¹ï¼›
Â·indexOf(element):è¿”å›é“¾è¡¨ä¸­æŸå…ƒç´ çš„ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰è¿”å›-1ï¼›
Â·removeAt(position):ä»ç‰¹å®šä½ç½®ç§»é™¤ä¸€é¡¹ï¼›
Â·isEmpty():åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºè¿”å›true,å¦åˆ™è¿”å›false;
Â·size():è¿”å›é“¾è¡¨åŒ…å«çš„å…ƒç´ ä¸ªæ•°ï¼›
Â·toString():é‡å†™ç»§æ‰¿è‡ªObjectç±»çš„toString()æ–¹æ³•ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†Nodeç±»ï¼›
</code></pre><p>é“¾è¡¨çš„å®Œæ•´ä»£ç ï¼š</p>
<pre><code>function LinkedList() {
//Nodeç±»å£°æ˜
let Node = function(element){
    this.element = element;
    this.next = null;
};
//åˆå§‹åŒ–é“¾è¡¨é•¿åº¦
let length = 0;
//åˆå§‹åŒ–ç¬¬ä¸€ä¸ªå…ƒç´ 
let head = null;
this.append = function(element){
    //åˆå§‹åŒ–æ·»åŠ çš„Nodeå®ä¾‹
    let node = new Node(element),
        current;
    if (head === null){
        //ç¬¬ä¸€ä¸ªNodeå®ä¾‹è¿›å…¥é“¾è¡¨ï¼Œä¹‹ååœ¨è¿™ä¸ªLinkedListå®ä¾‹ä¸­headå°±ä¸å†æ˜¯nulläº†
        head = node;
    } else {
        current = head;
        //å¾ªç¯é“¾è¡¨çŸ¥é“æ‰¾åˆ°æœ€åä¸€é¡¹ï¼Œå¾ªç¯ç»“æŸcurrentæŒ‡å‘é“¾è¡¨æœ€åä¸€é¡¹å…ƒç´ 
        while(current.next){
            current = current.next;
        }
        //æ‰¾åˆ°æœ€åä¸€é¡¹å…ƒç´ åï¼Œå°†ä»–çš„nextå±æ€§æŒ‡å‘æ–°å…ƒç´ node,jå»ºç«‹é“¾æ¥
        current.next = node;
    }
    //æ›´æ–°é“¾è¡¨é•¿åº¦
    length++;
};
this.insert = function(position, element){
    //æ£€æŸ¥æ˜¯å¦è¶Šç•Œï¼Œè¶…è¿‡é“¾è¡¨é•¿åº¦æˆ–æ˜¯å°äº0è‚¯å®šä¸ç¬¦åˆé€»è¾‘çš„
    if (position &gt;= 0 &amp;&amp; position &lt;= length){
        let node = new Node(element),
            current = head,
            previous,
            index = 0;
        if (position === 0){
            //åœ¨ç¬¬ä¸€ä¸ªä½ç½®æ·»åŠ 
            node.next = current;
            head = node;
        } else {
            //å¾ªç¯é“¾è¡¨ï¼Œæ‰¾åˆ°æ­£ç¡®ä½ç½®ï¼Œå¾ªç¯å®Œæ¯•ï¼Œpreviousï¼Œcurrentåˆ†åˆ«æ˜¯è¢«æ·»åŠ å…ƒç´ çš„å‰ä¸€ä¸ªå’Œåä¸€ä¸ªå…ƒç´ 
            while (index++ &lt; position){
                previous = current;
                current = current.next;
            }
            node.next = current;
            previous.next = node;
        }
        //æ›´æ–°é“¾è¡¨é•¿åº¦
        length++;
        return true;
    } else {
        return false;
    }
};
this.removeAt = function(position){
    //æ£€æŸ¥æ˜¯å¦è¶Šç•Œï¼Œè¶…è¿‡é“¾è¡¨é•¿åº¦æˆ–æ˜¯å°äº0è‚¯å®šä¸ç¬¦åˆé€»è¾‘çš„
    if (position &gt; -1 &amp;&amp; position &lt; length){
        let current = head,
            previous,
            index = 0;
        //ç§»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ 
        if (position === 0){
            //ç§»é™¤ç¬¬ä¸€é¡¹ï¼Œç›¸å½“äºhead=null;
            head = current.next;
        } else {
            //å¾ªç¯é“¾è¡¨ï¼Œæ‰¾åˆ°æ­£ç¡®ä½ç½®ï¼Œå¾ªç¯å®Œæ¯•ï¼Œpreviousï¼Œcurrentåˆ†åˆ«æ˜¯è¢«æ·»åŠ å…ƒç´ çš„å‰ä¸€ä¸ªå’Œåä¸€ä¸ªå…ƒç´ 
            while (index++ &lt; position){
                previous = current;
                current = current.next;
            }
            //é“¾æ¥previouså’Œcurrentçš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä¹Ÿå°±æ˜¯æŠŠcurrentç§»é™¤äº†
            previous.next = current.next;
        }
        length--;
        return current.element;
    } else {
        return null;
    }
};
this.indexOf = function(element){
    let current = head,
        index = 0;
    //å¾ªç¯é“¾è¡¨æ‰¾åˆ°å…ƒç´ ä½ç½®
    while (current) {
        if (element === current.element) {
            return index;
        }
        index++;
        current = current.next;
    }
    return -1;
};
this.remove = function(element){
    //è°ƒç”¨å·²ç»å£°æ˜è¿‡çš„indexOfå’ŒremoveAtæ–¹æ³•
    let index = this.indexOf(element);
    return this.removeAt(index);
};
this.isEmpty = function() {
    return length === 0;
};
this.size = function() {
    return length;
};
this.getHead = function(){
    return head;
};
this.toString = function(){
    let current = head,
        string = &apos;&apos;;
    while (current) {
        string += current.element + (current.next ? &apos;, &apos; : &apos;&apos;);
        current = current.next;
    }
    return string;
};
this.print = function(){
    console.log(this.toString());
};
}

//ä¸€ä¸ªå®ä¾‹åŒ–åçš„é“¾è¡¨ï¼Œé‡Œé¢æ˜¯æ·»åŠ çš„æ•°ä¸ªNodeç±»çš„å®ä¾‹
</code></pre><p>ES6ç‰ˆæœ¬:</p>
<pre><code>let LinkedList2 = (function () {
class Node {
    constructor(element){
        this.element = element;
        this.next = null;
    }
}
//è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨WeakMapå¯¹è±¡æ¥è®°å½•é•¿åº¦çŠ¶æ€
const length = new WeakMap();
const head = new WeakMap();
class LinkedList2 {
    constructor () {
        length.set(this, 0);
        head.set(this, null);
    }
    append(element) {
        let node = new Node(element),
            current;
        if (this.getHead() === null) {
            head.set(this, node);
        } else {
            current = this.getHead();
            while (current.next) {
                current = current.next;
            }
            current.next = node;
        }
        let l = this.size();
        l++;
        length.set(this, l);
    }
    insert(position, element) {
        if (position &gt;= 0 &amp;&amp; position &lt;= this.size()) {

            let node = new Node(element),
                current = this.getHead(),
                previous,
                index = 0;
            if (position === 0) {
                node.next = current;
                head.set(this, node);
            } else {
                while (index++ &lt; position) {
                    previous = current;
                    current = current.next;
                }
                node.next = current;
                previous.next = node;
            }
            let l = this.size();
            l++;
            length.set(this, l);
            return true;
        } else {
            return false;
        }
    }
    removeAt(position) {
        if (position &gt; -1 &amp;&amp; position &lt; this.size()) {
            let current = this.getHead(),
                previous,
                index = 0;
            if (position === 0) {
                head.set(this, current.next);
            } else {
                while (index++ &lt; position) {
                    previous = current;
                    current = current.next;
                }
                previous.next = current.next;
            }
            let l = this.size();
            l--;
            length.set(this, l);
            return current.element;
        } else {
            return null;
        }
    }
    remove(element) {
        let index = this.indexOf(element);
        return this.removeAt(index);
    }
    indexOf(element) {
        let current = this.getHead(),
            index = 0;
        while (current) {
            if (element === current.element) {
                return index;
            }
            index++;
            current = current.next;
        }
        return -1;
    }
    isEmpty() {
        return this.size() === 0;
    }
    size() {
        return length.get(this);
    }
    getHead() {
        return head.get(this);
    }
    toString() {
        let current = this.getHead(),
            string = &apos;&apos;;
        while (current) {
            string += current.element + (current.next ? &apos;, &apos; : &apos;&apos;);
            current = current.next;
        }
        return string;

    }
    print() {
        console.log(this.toString());
    }
}
return LinkedList2;
})();
åŒå‘é“¾è¡¨
function DoublyLinkedList() {
let Node = function(element){
    this.element = element;
    this.next = null;
    this.prev = null; //NEW
};
let length = 0;
let head = null;
let tail = null; //NEW
this.append = function(element){
    let node = new Node(element),
        current;
    if (head === null){
        head = node;
        tail = node; //NEW
    } else {
        //NEW
        tail.next = node;
        node.prev = tail;
        tail = node;
    }
    length++;
};
this.insert = function(position, element){
    if (position &gt;= 0 &amp;&amp; position &lt;= length){
        let node = new Node(element),
            current = head,
            previous,
            index = 0;
        if (position === 0){
            if (!head){       //NEW
                head = node;
                tail = node;
            } else {
                node.next = current;
                current.prev = node; //NEW
                head = node;
            }
        } else  if (position === length) { ////NEW
            current = tail;   
            current.next = node;
            node.prev = current;
            tail = node;
        } else {
            while (index++ &lt; position){
                previous = current;
                current = current.next;
            }
            node.next = current;
            previous.next = node;
            current.prev = node; //NEW
            node.prev = previous; //NEW
        }
        length++;
        return true;
    } else {
        return false;
    }
};
this.removeAt = function(position){
    if (position &gt; -1 &amp;&amp; position &lt; length){
        let current = head,
            previous,
            index = 0;
        if (position === 0){ //NEW
            if (length === 1){ //
                tail = null;
            } else {
                head.prev = null;
            }
        } else if (position === length-1){  //NEW
            current = tail;
            tail = current.prev;
            tail.next = null;
        } else {
            while (index++ &lt; position){
                previous = current;
                current = current.next;
            }
            previous.next = current.next;
            current.next.prev = previous; //NEW
        }
        length--;
        return current.element;
    } else {
        return null;
    }
};
this.remove = function(element){
    let index = this.indexOf(element);
    return this.removeAt(index);
};
this.indexOf = function(element){
    let current = head,
        index = -1;
    if (element == current.element){
        return 0;
    }
    index++;
    while(current.next){
        if (element == current.element){
            return index;
        }
        current = current.next;
        index++;
    }
    //check last item
    if (element == current.element){
        return index;
    }
    return -1;
};
this.isEmpty = function() {
    return length === 0;
};
this. size = function() {
    return length;
};
this.toString = function(){
    let current = head,
        s = current ? current.element : &apos;&apos;;
    while(current &amp;&amp; current.next){
        current = current.next;
        s += &apos;, &apos; + current.element;
    }
    return s;
};
this.inverseToString = function() {
    let current = tail,
        s = current ? current.element : &apos;&apos;;
    while(current &amp;&amp; current.prev){
        current = current.prev;
        s += &apos;, &apos; + current.element;
    }
    return s;
};
this.print = function(){
    console.log(this.toString());
};
this.printInverse = function(){
    console.log(this.inverseToString());
};
this.getHead = function(){
    return head;
};
this.getTail = function(){
    return tail;
}
}    
</code></pre><p>  åŒå‘é“¾è¡¨å’Œå•é¡¹æ¯”èµ·æ¥å°±æ˜¯Nodeç±»å¤šäº†ä¸€ä¸ªprevå±æ€§ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸€ä¸ªnodeä¸ä»…ä»…æœ‰ä¸€ä¸ªæŒ‡å‘å®ƒåé¢å…ƒç´ çš„æŒ‡é’ˆä¹Ÿæœ‰ä¸€ä¸ªæŒ‡å‘å®ƒå‰é¢çš„æŒ‡é’ˆã€‚</p>
<h2 id="å¾ªç¯é“¾è¡¨"><a href="#å¾ªç¯é“¾è¡¨" class="headerlink" title="å¾ªç¯é“¾è¡¨"></a>å¾ªç¯é“¾è¡¨</h2><pre><code>æ˜ç™½äº†å‰é¢çš„åŸºç¡€é“¾è¡¨å’ŒåŒå‘é“¾è¡¨ä¹‹åè¿™ä¸ªè‚¯å®šä¸åœ¨è¯ä¸‹äº†ï¼Œå¾ªç¯ï¼Œå…¶å®å°±æ˜¯æ•´ä¸ªé“¾è¡¨å®ä¾‹å˜æˆäº†ä¸€ä¸ªåœˆï¼Œåœ¨å•é¡¹é“¾è¡¨ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„nextå±æ€§ä¸ºnull,ç°åœ¨è®©å®ƒæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ä¹Ÿå°±æ˜¯headï¼Œé‚£ä¹ˆä»–å°±æˆäº†å•å‘å¾ªç¯é“¾è¡¨ã€‚åœ¨åŒå‘é“¾è¡¨ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„nextå±æ€§ä¸ºnull,ç°åœ¨è®©å®ƒæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ä¹Ÿå°±æ˜¯headï¼Œé‚£ä¹ˆä»–å°±æˆäº†åŒå‘å¾ªç¯é“¾è¡¨ã€‚å°±é‚£ä¹ˆå›äº‹..
</code></pre>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/01/17/javascriptæ•°æ®ç»“æ„-é“¾è¡¨/" class="archive-article-date">
  	<time datetime="2016-01-17T03:05:32.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-01-17</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>








<!-- å¤šè¯´è¯„è®ºæ¡† start -->
  <div class="ds-thread" data-thread-key="post-javascriptæ•°æ®ç»“æ„-é“¾è¡¨" data-title="javascriptæ•°æ®ç»“æ„--é“¾è¡¨" data-url="undefined"></div>

<!-- å¤šè¯´è¯„è®ºæ¡† end -->
<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"wzj1996"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->

  
    <article id="post-this" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/12/this/">this</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="global-this"><a href="#global-this" class="headerlink" title="global this"></a>global this</h1><p>Â· åœ¨æµè§ˆå™¨ï¼Œåœ¨å…¨å±€èŒƒå›´å†…,thisç­‰ä»·äºwindowå¯¹è±¡.</p>
<pre><code>1 &lt;script type=&quot;text/javascript&quot;&gt;
2 console.log(this === window); //true
3&lt;/script&gt;
</code></pre><p>Â· åœ¨æµè§ˆå™¨é‡Œï¼Œåœ¨å…¨å±€èŒƒå›´å†…ï¼Œç”¨varå£°æ˜ä¸€ä¸ªå˜é‡å’Œç»™thisæˆ–è€…windowæ·»åŠ å±æ€§æ˜¯ç­‰ä»·çš„</p>
<pre><code>1 &lt;script type=&quot;text/javascript&quot;&gt;
2     var foo = &quot;bar&quot;;
3     console.log(this.foo); //logs &quot;bar&quot;
4     console.log(window.foo); //logs &quot;bar&quot;
5 &lt;/script&gt;
</code></pre><p>Â· å¦‚æœä½ åœ¨å£°æ˜ä¸€ä¸ªå˜é‡çš„æ—¶å€™æ²¡æœ‰ä½¿ç”¨varæˆ–è€…let(ECMAScript 6),ä½ å°±æ˜¯åœ¨ç»™å…¨å±€çš„thisæ·»åŠ æˆ–è€…æ”¹å˜å±æ€§å€¼ã€‚</p>
<pre><code>1 &lt;script type=&quot;text/javascript&quot;&gt;
2     foo = &quot;bar&quot;;
3
4     function testThis() {
5       foo = &quot;foo&quot;;
6     }
7
8     console.log(this.foo); //logs &quot;bar&quot;
9     testThis();
10     console.log(this.foo); //logs &quot;foo&quot;
11 &lt;/script&gt;
</code></pre><p>Â· åœ¨nodeç¯å¢ƒé‡Œï¼Œå¦‚æœä½¿ç”¨REPL(Read-Eval-Print Loopï¼Œç®€ç§°REPL:è¯»å–-æ±‚å€¼-è¾“å‡º,æ˜¯ä¸€ä¸ªç®€å•çš„ï¼Œäº¤äº’å¼çš„ç¼–ç¨‹ç¯å¢ƒ)æ¥æ‰§è¡Œç¨‹åº,thiså¹¶ä¸æ˜¯æœ€é«˜çº§çš„å‘½åç©ºé—´ï¼Œæœ€é«˜çº§çš„æ˜¯global.</p>
<pre><code>&gt; this
{ ArrayBuffer: [Function: ArrayBuffer],
Int8Array: { [Function: Int8Array] BYTES_PER_ELEMENT: 1 },
...
&gt; global === this
true
</code></pre><p>Â· åœ¨nodeç¯å¢ƒé‡Œï¼Œå¦‚æœæ‰§è¡Œä¸€ä¸ªjsè„šæœ¬ï¼Œåœ¨å…¨å±€èŒƒå›´å†…ï¼Œthisä»¥ä¸€ä¸ªç©ºå¯¹è±¡å¼€å§‹ä½œä¸ºæœ€é«˜çº§çš„å‘½åç©ºé—´ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå®ƒå’Œglobalä¸æ˜¯ç­‰ä»·çš„ã€‚</p>
<pre><code>1 test.jsè„šæœ¬å†…å®¹ï¼š
2
3 console.log(this);
4 console.log(this === global);
5 
6 REPLè¿è¡Œè„šæœ¬ï¼š
7 
8 $ node test.js
9 {}
10 false
</code></pre><p>Â· åœ¨nodeç¯å¢ƒé‡Œï¼Œåœ¨å…¨å±€èŒƒå›´å†…ï¼Œå¦‚æœä½ ç”¨REPLæ‰§è¡Œä¸€ä¸ªè„šæœ¬æ–‡ä»¶ï¼Œç”¨varå£°æ˜ä¸€ä¸ªå˜é‡å¹¶ä¸ä¼šå’Œåœ¨æµè§ˆå™¨é‡Œé¢ä¸€æ ·å°†è¿™ä¸ªå˜é‡æ·»åŠ ç»™thisã€‚</p>
<pre><code>1 test.js:
2 
3 var foo = &quot;bar&quot;;
4 console.log(this.foo);
5 
6 $ node test.js
7 undefined    
</code></pre><p>Â· ä½†æ˜¯å¦‚æœä½ ä¸æ˜¯ç”¨REPLæ‰§è¡Œè„šæœ¬æ–‡ä»¶ï¼Œè€Œæ˜¯ç›´æ¥æ‰§è¡Œä»£ç ï¼Œç»“æœå’Œåœ¨æµè§ˆå™¨é‡Œé¢æ˜¯ä¸€æ ·çš„(ç¥å‘)</p>
<pre><code>1 &gt; var foo = &quot;bar&quot;;
2 &gt; this.foo
3 bar
4 &gt; global.foo
5 bar
</code></pre><p>Â· åœ¨nodeç¯å¢ƒé‡Œï¼Œç”¨REPLè¿è¡Œè„šæœ¬æ–‡ä»¶çš„æ—¶å€™ï¼Œå¦‚æœåœ¨å£°æ˜å˜é‡çš„æ—¶å€™æ²¡æœ‰ä½¿ç”¨varæˆ–è€…letï¼Œè¿™ä¸ªå˜é‡ä¼šè‡ªåŠ¨æ·»åŠ åˆ°globalå¯¹è±¡ï¼Œä½†æ˜¯ä¸ä¼šè‡ªåŠ¨æ·»åŠ ç»™thiså¯¹è±¡ã€‚å¦‚æœæ˜¯ç›´æ¥æ‰§è¡Œä»£ç ï¼Œåˆ™ä¼šåŒæ—¶æ·»åŠ ç»™globalå’Œthis</p>
<pre><code>1 test.js
2 
3 foo = &quot;bar&quot;;
4 console.log(this.foo);
5 console.log(global.foo);
6 
7 $ node test.js
8 undefined
9 bar


ä¸Šé¢çš„å…«ç§æƒ…å†µå¯èƒ½å¤§å®¶å·²ç»ç»•æ™•äº†ï¼Œæ€»ç»“èµ·æ¥å°±æ˜¯ï¼šåœ¨æµè§ˆå™¨é‡Œé¢thisæ˜¯è€å¤§ï¼Œå®ƒç­‰ä»·äºwindowå¯¹è±¡ï¼Œå¦‚æœä½ å£°æ˜ä¸€äº›å…¨å±€å˜é‡(ä¸ç®¡åœ¨ä»»ä½•åœ°æ–¹)ï¼Œè¿™äº›å˜é‡éƒ½ä¼šä½œä¸ºthisçš„å±æ€§ã€‚åœ¨nodeé‡Œé¢ï¼Œæœ‰ä¸¤ç§æ‰§è¡ŒJavaScriptä»£ç çš„æ–¹å¼ï¼Œä¸€ç§æ˜¯ç›´æ¥æ‰§è¡Œå†™å¥½çš„JavaScriptæ–‡ä»¶ï¼Œå¦å¤–ä¸€ç§æ˜¯ç›´æ¥åœ¨é‡Œé¢æ‰§è¡Œä¸€è¡Œè¡Œä»£ç ã€‚å¯¹äºç›´æ¥è¿è¡Œä¸€è¡Œè¡ŒJavaScriptä»£ç çš„æ–¹å¼ï¼Œglobalæ‰æ˜¯è€å¤§ï¼Œthiså’Œå®ƒæ˜¯ç­‰ä»·çš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå’Œæµè§ˆå™¨æ¯”è¾ƒç›¸ä¼¼ï¼Œä¹Ÿå°±æ˜¯å£°æ˜ä¸€äº›å…¨å±€å˜é‡ä¼šè‡ªåŠ¨æ·»åŠ ç»™è€å¤§globalï¼Œé¡ºå¸¦ä¹Ÿä¼šæ·»åŠ ç»™thisã€‚ä½†æ˜¯åœ¨nodeé‡Œé¢ç›´æ¥è„šæœ¬æ–‡ä»¶å°±ä¸ä¸€æ ·äº†ï¼Œä½ å£°æ˜çš„å…¨å±€å˜é‡ä¸ä¼šè‡ªåŠ¨æ·»åŠ åˆ°thisï¼Œä½†æ˜¯ä¼šæ·»åŠ åˆ°globalå¯¹è±¡ã€‚æ‰€ä»¥ç›¸åŒç‚¹æ˜¯ï¼Œåœ¨å…¨å±€èŒƒå›´å†…ï¼Œå…¨å±€å˜é‡ç»ˆç©¶æ˜¯å±äºè€å¤§çš„ã€‚
</code></pre><h1 id="function-this"><a href="#function-this" class="headerlink" title="function this"></a>function this</h1><p>Â· æ— è®ºæ˜¯åœ¨æµè§ˆå™¨ç¯å¢ƒè¿˜æ˜¯nodeç¯å¢ƒï¼Œ é™¤äº†åœ¨DOMäº‹ä»¶å¤„ç†ç¨‹åºé‡Œæˆ–è€…ç»™å‡ºäº†thisArg(æ¥ä¸‹æ¥ä¼šè®²åˆ°)å¤–ï¼Œå¦‚æœä¸æ˜¯ç”¨newè°ƒç”¨ï¼Œåœ¨å‡½æ•°é‡Œé¢ä½¿ç”¨thiséƒ½æ˜¯æŒ‡ä»£å…¨å±€èŒƒå›´çš„thisã€‚</p>
<pre><code>1 &lt;script type=&quot;text/javascript&quot;&gt;
2     foo = &quot;bar&quot;;
3 
4     function testThis() {
5       this.foo = &quot;foo&quot;;
6     }
7 
8     console.log(this.foo); //logs &quot;bar&quot;
9     testThis();
10     console.log(this.foo); //logs &quot;foo&quot;
11 &lt;/script&gt;

test.js

foo = &quot;bar&quot;;

function testThis () {
this.foo = &quot;foo&quot;;
}
console.log(global.foo);
testThis();console.log(global.foo);
$ node test.js
bar
foo    
</code></pre><p>Â· é™¤éä½ ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œè¿™æ—¶å€™thiså°±ä¼šå˜æˆundefinedã€‚</p>
<pre><code>1 &lt;script type=&quot;text/javascript&quot;&gt;
2     foo = &quot;bar&quot;;
3 
4     function testThis() {
5       &quot;use strict&quot;;
6       this.foo = &quot;foo&quot;;
7     }
8 
9     console.log(this.foo); //logs &quot;bar&quot;
10     testThis();  //Uncaught TypeError: Cannot set property &apos;foo&apos; of undefined 
11 &lt;/script&gt;
</code></pre><p>Â· å¦‚æœä½ åœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™åœ¨å‰é¢ä½¿ç”¨äº†newï¼Œthiså°±ä¼šå˜æˆä¸€ä¸ªæ–°çš„å€¼ï¼Œå’Œglobalçš„thisè„±ç¦»å¹²ç³».</p>
<pre><code>1 &lt;script type=&quot;text/javascript&quot;&gt;
2     foo = &quot;bar&quot;;
3 
4     function testThis() {
5       this.foo = &quot;foo&quot;;
6     }
7 
8     console.log(this.foo); //logs &quot;bar&quot;
9     new testThis();
10     console.log(this.foo); //logs &quot;bar&quot;
11 
12     console.log(new testThis().foo); //logs &quot;foo&quot;
13 &lt;/script&gt;
</code></pre><p>æˆ‘æ›´å–œæ¬¢æŠŠæ–°çš„å€¼ç§°ä½œä¸€ä¸ªå®ä¾‹ã€‚</p>
<pre><code>å‡½æ•°é‡Œé¢çš„thiså…¶å®ç›¸å¯¹æ¯”è¾ƒå¥½ç†è§£ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ä¸€ä¸ªå‡½æ•°é‡Œé¢ä½¿ç”¨thisï¼Œéœ€è¦æ³¨æ„çš„å°±æ˜¯æˆ‘ä»¬è°ƒç”¨å‡½æ•°çš„æ–¹å¼ï¼Œå¦‚æœæ˜¯æ­£å¸¸çš„æ–¹å¼è°ƒç”¨å‡½æ•°ï¼ŒthisæŒ‡ä»£å…¨å±€çš„thisï¼Œå¦‚æœæˆ‘ä»¬åŠ ä¸€ä¸ªnewï¼Œè¿™ä¸ªå‡½æ•°å°±å˜æˆäº†ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬å°±åˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹ï¼ŒthisæŒ‡ä»£è¿™ä¸ªå®ä¾‹ï¼Œè¿™ä¸ªå’Œå…¶ä»–é¢å‘å¯¹è±¡çš„è¯­è¨€å¾ˆåƒã€‚å¦å¤–ï¼Œå†™JavaScriptå¾ˆå¸¸åšçš„ä¸€ä»¶äº‹å°±æ˜¯ç»‘å®šäº‹ä»¶å¤„ç†ç¨‹åºï¼Œä¹Ÿå°±æ˜¯è¯¸å¦‚button.addEventListener(â€˜clickâ€™, fn, false)ä¹‹ç±»çš„ï¼Œå¦‚æœåœ¨fné‡Œé¢éœ€è¦ä½¿ç”¨thisï¼ŒthisæŒ‡ä»£äº‹ä»¶å¤„ç†ç¨‹åºå¯¹åº”çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯buttonã€‚
</code></pre><h1 id="Protoype-this"><a href="#Protoype-this" class="headerlink" title="Protoype this"></a>Protoype this</h1><p>ä½ åˆ›å»ºçš„æ¯ä¸€ä¸ªå‡½æ•°éƒ½æ˜¯å‡½æ•°å¯¹è±¡ã€‚å®ƒä»¬ä¼šè‡ªåŠ¨è·å¾—ä¸€ä¸ªç‰¹æ®Šçš„å±æ€§prototypeï¼Œä½ å¯ä»¥ç»™è¿™ä¸ªå±æ€§èµ‹å€¼ã€‚å½“ä½ ç”¨newçš„æ–¹å¼è°ƒç”¨ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œä½ å°±èƒ½é€šè¿‡thisè®¿é—®ä½ ç»™prototypeèµ‹çš„å€¼äº†ã€‚</p>
<pre><code>1 function Thing() {
2       console.log(this.foo);
3 }
4 
5 Thing.prototype.foo = &quot;bar&quot;;
6 
7 var thing = new Thing(); //logs &quot;bar&quot;
8 console.log(thing.foo);  //logs &quot;bar&quot;
</code></pre><p>å½“ä½ ä½¿ç”¨newä¸ºä½ çš„å‡½æ•°åˆ›å»ºå¤šä¸ªå®ä¾‹çš„æ—¶å€™ï¼Œè¿™äº›å®ä¾‹ä¼šå…±äº«ä½ ç»™prototypeè®¾å®šçš„å€¼ã€‚å¯¹äºä¸‹é¢çš„ä¾‹å­ï¼Œå½“ä½ è°ƒç”¨this.fooçš„æ—¶å€™ï¼Œéƒ½ä¼šè¿”å›ç›¸åŒçš„å€¼ï¼Œé™¤éä½ åœ¨æŸä¸ªå®ä¾‹é‡Œé¢é‡å†™äº†è‡ªå·±çš„this.foo</p>
<pre><code>1 function Thing() {
2 }
3 Thing.prototype.foo = &quot;bar&quot;;
4 Thing.prototype.logFoo = function () {
5     console.log(this.foo);
6 }
7 Thing.prototype.setFoo = function (newFoo) {
8     this.foo = newFoo;
9 }
10 
11 var thing1 = new Thing();
12 var thing2 = new Thing();
13 
14 thing1.logFoo(); //logs &quot;bar&quot;
15 thing2.logFoo(); //logs &quot;bar&quot;
16 
17 thing1.setFoo(&quot;foo&quot;);
18 thing1.logFoo(); //logs &quot;foo&quot;;
19 thing2.logFoo(); //logs &quot;bar&quot;;
20 
21 thing2.foo = &quot;foobar&quot;;
22 thing1.logFoo(); //logs &quot;foo&quot;;
23 thing2.logFoo(); //logs &quot;foobar&quot;;
</code></pre><p>å®ä¾‹é‡Œé¢çš„thisæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ã€‚ä½ å¯ä»¥æŠŠthisæƒ³æˆä¸€ç§è·å–prototypeçš„å€¼çš„ä¸€ç§æ–¹å¼ã€‚å½“ä½ åœ¨ä¸€ä¸ªå®ä¾‹é‡Œé¢ç›´æ¥ç»™thisæ·»åŠ å±æ€§çš„æ—¶å€™ï¼Œä¼šéšè—prototypeä¸­ä¸ä¹‹åŒåçš„å±æ€§ã€‚å¦‚æœä½ æƒ³è®¿é—®prototypeä¸­çš„è¿™ä¸ªå±æ€§å€¼è€Œä¸æ˜¯ä½ è‡ªå·±è®¾å®šçš„å±æ€§å€¼ï¼Œä½ å¯ä»¥é€šè¿‡åœ¨å®ä¾‹é‡Œé¢åˆ é™¤ä½ è‡ªå·±æ·»åŠ çš„å±æ€§çš„æ–¹å¼æ¥å®ç°</p>
<pre><code>1 function Thing() {
2 }
3 Thing.prototype.foo = &quot;bar&quot;;
4 Thing.prototype.logFoo = function () {
5     console.log(this.foo);
6 }
7 Thing.prototype.setFoo = function (newFoo) {
8     this.foo = newFoo;
9 }
10 Thing.prototype.deleteFoo = function () {
11     delete this.foo;
12 }
13 var thing = new Thing();
14 thing.setFoo(&quot;foo&quot;);
15 thing.logFoo(); //logs &quot;foo&quot;;
16 thing.deleteFoo();
17 thing.logFoo(); //logs &quot;bar&quot;;
18 thing.foo = &quot;foobar&quot;;
19 thing.logFoo(); //logs &quot;foobar&quot;;
20 delete thing.foo;
21 thing.logFoo(); //logs &quot;bar&quot;;
</code></pre><p>æˆ–è€…ä½ ä¹Ÿèƒ½ç›´æ¥é€šè¿‡å¼•ç”¨å‡½æ•°å¯¹è±¡çš„prototype æ¥è·å¾—ä½ éœ€è¦çš„å€¼</p>
<pre><code>1 function Thing() {
2 }
3 Thing.prototype.foo = &quot;bar&quot;;
4 Thing.prototype.logFoo = function () {
5     console.log(this.foo, Thing.prototype.foo);
6 }
7 
8 var thing = new Thing();
9 thing.foo = &quot;foo&quot;;
10 thing.logFoo(); //logs &quot;foo bar&quot;;
</code></pre><p>ç»™ä¸€ä¸ªå‡½æ•°çš„prototypeèµ‹å€¼ä¸€ä¸ªArrayé€šå¸¸æ˜¯ä¸€ä¸ªé”™è¯¯çš„åšæ³•ã€‚å¦‚æœä½ æƒ³æ¯ä¸€ä¸ªå®ä¾‹æœ‰ä»–ä»¬ä¸“å±çš„Arrayï¼Œä½ åº”è¯¥åœ¨å‡½æ•°é‡Œé¢åˆ›å»ºè€Œä¸æ˜¯åœ¨prototypeé‡Œé¢åˆ›å»ºã€‚</p>
<pre><code>1 function Thing() {
2     this.things = [];
3 }
4 
5 
6 var thing1 = new Thing();
7 var thing2 = new Thing();
8 thing1.things.push(&quot;foo&quot;);
9 console.log(thing1.things); //logs [&quot;foo&quot;]
10 console.log(thing2.things); //logs []
</code></pre><p>å®é™…ä¸Šä½ å¯ä»¥é€šè¿‡æŠŠå¤šä¸ªå‡½æ•°çš„prototypeé“¾æ¥èµ·æ¥çš„ä»è€Œå½¢æˆä¸€ä¸ªåŸå‹é“¾ï¼Œå› æ­¤thiså°±ä¼šé­”æ³•èˆ¬åœ°æ²¿ç€è¿™æ¡åŸå‹é“¾å¾€ä¸ŠæŸ¥æ‰¾ç›´åˆ°æ‰¾ä½ ä½ éœ€è¦å¼•ç”¨çš„å€¼ã€‚</p>
<pre><code>1 function Thing1() {
2 }
3 Thing1.prototype.foo = &quot;bar&quot;;
4 
5 function Thing2() {
6 }
7 Thing2.prototype = new Thing1();
8 
9 
10 var thing = new Thing2();
11 console.log(thing.foo); //logs &quot;bar&quot;          
</code></pre><p>ä¸€äº›äººåˆ©ç”¨åŸå‹é“¾çš„ç‰¹æ€§æ¥åœ¨JavaScriptæ¨¡ä»¿ç»å…¸çš„é¢å‘å¯¹è±¡çš„ç»§æ‰¿æ–¹å¼ã€‚ä»»ä½•ç»™ç”¨äºæ„å»ºåŸå‹é“¾çš„å‡½æ•°çš„thisçš„èµ‹å€¼çš„è¯­å¥éƒ½ä¼šéšè—åŸå‹é“¾ä¸Šæ¸¸çš„ç›¸åŒçš„å±æ€§</p>
<pre><code>1 function Thing1() {
2 }
3 Thing1.prototype.foo = &quot;bar&quot;;
4 
5 function Thing2() {
6     this.foo = &quot;foo&quot;;
7 }
8 Thing2.prototype = new Thing1();
9 
10 function Thing3() {
11 }
12 Thing3.prototype = new Thing2();
13 
14 
15 var thing = new Thing3();
16 console.log(thing.foo); //logs &quot;foo&quot;
</code></pre><p>æˆ‘å–œæ¬¢æŠŠè¢«èµ‹å€¼ç»™prototypeçš„å‡½æ•°å«åšæ–¹æ³•ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘å·²ç»ä½¿ç”¨è¿‡æ–¹æ³•äº†ï¼Œå¦‚logFooã€‚è¿™äº›æ–¹æ³•æœ‰ç€ç›¸åŒçš„prototypeï¼Œå³åˆ›å»ºè¿™äº›å®åŠ›çš„åŸå§‹å‡½æ•°ã€‚æˆ‘é€šå¸¸æŠŠè¿™äº›åŸå§‹å‡½æ•°å«åšæ„é€ å‡½æ•°ã€‚åœ¨prototypeé‡Œé¢å®šä¹‰çš„æ–¹æ³•é‡Œé¢ä½¿ç”¨thisä¼šå½±å“åˆ°å½“å‰å®ä¾‹çš„åŸå‹é“¾çš„ä¸Šæ¸¸çš„thisã€‚è¿™æ„å‘³ç€ä½ ç›´æ¥ç»™thisèµ‹å€¼çš„æ—¶å€™ï¼Œéšè—äº†åŸå‹é“¾ä¸Šæ¸¸çš„ç›¸åŒçš„å±æ€§å€¼ã€‚è¿™ä¸ªå®ä¾‹çš„ä»»ä½•æ–¹æ³•éƒ½ä¼šä½¿ç”¨è¿™ä¸ªæœ€æ–°çš„å€¼è€Œä¸æ˜¯åŸå‹é‡Œé¢å®šä¹‰çš„è¿™ä¸ªç›¸åŒçš„å€¼ã€‚</p>
<pre><code>1 function Thing1() {
2 }
3 Thing1.prototype.foo = &quot;bar&quot;;
4 Thing1.prototype.logFoo = function () {
5     console.log(this.foo);
6 }
7 
8 function Thing2() {
9     this.foo = &quot;foo&quot;;
10 }
11 Thing2.prototype = new Thing1();
12 
13 
14 var thing = new Thing2();
15 thing.logFoo(); //logs &quot;foo&quot;;
</code></pre><p>åœ¨JavaScripté‡Œé¢ä½ å¯ä»¥åµŒå¥—å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ä½ å¯ä»¥åœ¨å‡½æ•°é‡Œé¢å®šä¹‰å‡½æ•°ã€‚åµŒå¥—å‡½æ•°å¯ä»¥é€šè¿‡é—­åŒ…æ•è·çˆ¶å‡½æ•°çš„å˜é‡ï¼Œä½†æ˜¯è¿™ä¸ªå‡½æ•°æ²¡æœ‰ç»§æ‰¿this</p>
<pre><code>1 function Thing() {
2 }
3 Thing.prototype.foo = &quot;bar&quot;;
4 Thing.prototype.logFoo = function () {
5     var info = &quot;attempting to log this.foo:&quot;;
6     function doIt() {
7         console.log(info, this.foo);
8     }
9     doIt();
10 }
11 
12 
13 var thing = new Thing();
14 thing.logFoo();  //logs &quot;attempting to log this.foo: undefined&quot;
</code></pre><p>åœ¨doIté‡Œé¢çš„thisæ˜¯globalå¯¹è±¡æˆ–è€…åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹é¢æ˜¯undefinedã€‚è¿™æ˜¯é€ æˆå¾ˆå¤šä¸ç†Ÿæ‚‰JavaScriptçš„äººæ·±é™· thisé™·é˜±çš„æ ¹æºã€‚åœ¨è¿™ç§æƒ…å†µä¸‹äº‹æƒ…å˜å¾—éå¸¸ç³Ÿç³•ï¼Œå°±åƒä½ æŠŠä¸€ä¸ªå®ä¾‹çš„æ–¹æ³•å½“ä½œä¸€ä¸ªå€¼ï¼ŒæŠŠè¿™ä¸ªå€¼å½“ä½œå‡½æ•°å‚æ•°ä¼ é€’ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°ä½†æ˜¯å´ä¸æŠŠè¿™ä¸ªå®ä¾‹ä¼ é€’ç»™è¿™ä¸ªå‡½æ•°ä¸€æ ·ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæ–¹æ³•é‡Œé¢çš„ç¯å¢ƒå˜æˆäº†å…¨å±€èŒƒå›´ï¼Œæˆ–è€…åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹é¢çš„undefinedã€‚</p>
<pre><code>1 function Thing() {
2 }
3 Thing.prototype.foo = &quot;bar&quot;;
4 Thing.prototype.logFoo = function () {  
5     console.log(this.foo);   
6 }
7 
8 function doIt(method) {
9     method();
10 }
11 
12 
13 var thing = new Thing();
14 thing.logFoo(); //logs &quot;bar&quot;
15 doIt(thing.logFoo); //logs undefined
</code></pre><p>ä½ å¯ä»¥é€šè¿‡bindå°†å®ä¾‹å’Œæ–¹æ³•ä¸€åˆ‡ä¼ é€’ç»™å‡½æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œbindæ˜¯ä¸€ä¸ªå‡½æ•°å®šä¹‰åœ¨æ‰€æœ‰å‡½æ•°å’Œæ–¹æ³•çš„å‡½æ•°å¯¹è±¡ä¸Šé¢</p>
<pre><code>1 function Thing() {
2 }
3 Thing.prototype.foo = &quot;bar&quot;;
4 Thing.prototype.logFoo = function () { 
5     console.log(this.foo);
6 }
7 
8 function doIt(method) {
9     method();
10 }
11 
12 
13 var thing = new Thing();
14 doIt(thing.logFoo.bind(thing)); //logs bar
</code></pre><p>ä½ åŒæ ·å¯ä»¥ä½¿ç”¨applyå’Œcallæ¥åœ¨æ–°çš„ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨æ–¹æ³•æˆ–å‡½æ•°ã€‚</p>
<pre><code>1 function Thing() {
2 }
3 Thing.prototype.foo = &quot;bar&quot;;
4 Thing.prototype.logFoo = function () { 
5     function doIt() {
6         console.log(this.foo)
7     }
8     doIt.apply(this);
9 }
10 
11 function doItIndirectly(method) {
12     method();
13 }
14 
15 
16 var thing = new Thing();
17 doItIndirectly(thing.logFoo.bind(thing)); //logs bar
</code></pre><p>ä½ å¯ä»¥ç”¨bindæ¥ä»£æ›¿ä»»ä½•ä¸€ä¸ªå‡½æ•°æˆ–è€…æ–¹æ³•çš„thisï¼Œå³ä¾¿å®ƒæ²¡æœ‰èµ‹å€¼ç»™å®ä¾‹çš„åˆå§‹prototypeã€‚</p>
<pre><code>1 function Thing() {
2 }
3 Thing.prototype.foo = &quot;bar&quot;;
4 
5 
6 function logFoo(aStr) {
7     console.log(aStr, this.foo);
8 }
9 
10 
11 var thing = new Thing();
12 logFoo.bind(thing)(&quot;using bind&quot;); //logs &quot;using bind bar&quot;
13 logFoo.apply(thing, [&quot;using apply&quot;]); //logs &quot;using apply bar&quot;
14 logFoo.call(thing, &quot;using call&quot;); //logs &quot;using call bar&quot;
15 logFoo(&quot;using nothing&quot;); //logs &quot;using nothing undefined&quot;    
</code></pre><p>ä½ åº”è¯¥é¿å…åœ¨æ„é€ å‡½æ•°é‡Œé¢è¿”å›ä»»ä½•ä¸œè¥¿ï¼Œå› ä¸ºè¿™å¯èƒ½ä»£æ›¿æœ¬æ¥åº”è¯¥è¿”å›çš„å®ä¾‹.</p>
<pre><code>1 function Thing() {
2     return {};
3 }
4 Thing.prototype.foo = &quot;bar&quot;;
5 
6 
7 Thing.prototype.logFoo = function () {
8     console.log(this.foo);
9 }
10 
11 
12 var thing = new Thing();
13 thing.logFoo(); //Uncaught TypeError: undefined is not a function
</code></pre><p>å¥‡æ€ªçš„æ˜¯ï¼Œå¦‚æœä½ åœ¨æ„é€ å‡½æ•°é‡Œé¢è¿”å›äº†ä¸€ä¸ªåŸå§‹å€¼ï¼Œä¸Šé¢æ‰€è¿°çš„æƒ…å†µå¹¶ä¸ä¼šå‘ç”Ÿå¹¶ä¸”è¿”å›è¯­å¥è¢«å¿½ç•¥äº†ã€‚æœ€å¥½ä¸è¦åœ¨ä½ å°†é€šè¿‡newè°ƒç”¨çš„æ„é€ å‡½æ•°é‡Œé¢è¿”å›ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œå³ä¾¿ä½ çŸ¥é“è‡ªå·±æ­£åœ¨åšä»€ä¹ˆã€‚å¦‚æœä½ æƒ³åˆ›å»ºä¸€ä¸ªå·¥å‚æ¨¡å¼ï¼Œé€šè¿‡ä¸€ä¸ªå‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œè¿™ä¸ªæ—¶å€™ä¸è¦ä½¿ç”¨newæ¥è°ƒç”¨å‡½æ•°ã€‚å½“ç„¶è¿™ä¸ªå»ºè®®æ˜¯å¯é€‰çš„ã€‚<br>    ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨Object.createæ¥é¿å…ä½¿ç”¨newï¼Œè¿™æ ·åŒæ ·èƒ½å¤Ÿåˆ›å»ºä¸€ä¸ªå®ä¾‹ã€‚</p>
<pre><code>1 function Thing() {
2 }
3 Thing.prototype.foo = &quot;bar&quot;;
4 
5 
6 Thing.prototype.logFoo = function () {
7     console.log(this.foo);
8 }
9 
10 
11 var thing =  Object.create(Thing.prototype);
12 thing.logFoo(); //logs &quot;bar&quot;     
</code></pre><p>åœ¨è¿™ç§æƒ…å†µä¸‹å¹¶ä¸ä¼šè°ƒç”¨æ„é€ å‡½æ•°</p>
<pre><code>1 function Thing() {
2     this.foo = &quot;foo&quot;;
3 }
4 Thing.prototype.foo = &quot;bar&quot;;
5 
6 
7 Thing.prototype.logFoo = function () {
8     console.log(this.foo);
9 }
10 
11 
12 var thing =  Object.create(Thing.prototype);
13 thing.logFoo(); //logs &quot;bar&quot;    
</code></pre><p>å› ä¸ºObject.createä¸ä¼šè°ƒç”¨æ„é€ å‡½æ•°çš„ç‰¹æ€§åœ¨ä½ ç»§æ‰¿æ¨¡å¼ä¸‹ä½ æƒ³é€šè¿‡åŸå‹é“¾é‡å†™æ„é€ å‡½æ•°çš„æ—¶å€™éå¸¸æœ‰ç”¨ã€‚</p>
<pre><code>1 function Thing1() {
2     this.foo = &quot;foo&quot;;
3 }
4 Thing1.prototype.foo = &quot;bar&quot;;
5 
6 function Thing2() {
7     this.logFoo(); //logs &quot;bar&quot;
8     Thing1.apply(this);
9     this.logFoo(); //logs &quot;foo&quot;
10 }
11 Thing2.prototype = Object.create(Thing1.prototype);
12 Thing2.prototype.logFoo = function () {
13     console.log(this.foo);
14 }
15 
16 var thing = new Thing2();
</code></pre><h1 id="DOM-event-this"><a href="#DOM-event-this" class="headerlink" title="DOM event this"></a>DOM event this</h1><p>åœ¨ä¸€ä¸ªHTML DOMäº‹ä»¶å¤„ç†ç¨‹åºé‡Œé¢ï¼Œthiså§‹ç»ˆæŒ‡å‘è¿™ä¸ªå¤„ç†ç¨‹åºè¢«æ‰€ç»‘å®šåˆ°çš„HTML DOMèŠ‚ç‚¹</p>
<pre><code>1 function Listener()     {
2 document.getElementById(&quot;foo&quot;).addEventListener(&quot;click&quot;,
3        this.handleClick);
4 }
5 Listener.prototype.handleClick = function (event) {
6     console.log(this); //logs &quot;&lt;div id=&quot;foo&quot;&gt;&lt;/div&gt;&quot;
7 }
8 
9 var listener = new Listener();
10 document.getElementById(&quot;foo&quot;).click();
</code></pre><p>é™¤éä½ è‡ªå·±é€šè¿‡bindåˆ‡æ¢äº†ä¸Šä¸‹æ–‡</p>
<pre><code>1 function Listener() {
2     document.getElementById(&quot;foo&quot;).addEventListener(&quot;click&quot;, 
3         this.handleClick.bind(this));
4 }
5 Listener.prototype.handleClick = function (event) {
6     console.log(this); //logs Listener {handleClick: function}
7 }
8 
9 var listener = new Listener();
10 document.getElementById(&quot;foo&quot;).click();
</code></pre><h1 id="HTML-this"><a href="#HTML-this" class="headerlink" title="HTML this"></a>HTML this</h1><p>åœ¨HTMLèŠ‚ç‚¹çš„å±æ€§é‡Œé¢ï¼Œä½ å¯ä»¥æ”¾ç½®JavaScriptä»£ç ï¼ŒthisæŒ‡å‘äº†è¿™ä¸ªå…ƒç´ </p>
<pre><code>1 &lt;div id=&quot;foo&quot; onclick=&quot;console.log(this);&quot;&gt;&lt;/div&gt;
2 &lt;script type=&quot;text/javascript&quot;&gt;
3 document.getElementById(&quot;foo&quot;).click(); //logs &lt;div id=&quot;foo&quot;...
4 &lt;/script&gt;
</code></pre><h1 id="override-this"><a href="#override-this" class="headerlink" title="override this"></a>override this</h1><p>ä½ ä¸èƒ½é‡å†™thisï¼Œå› ä¸ºå®ƒæ˜¯ä¿ç•™å­—ã€‚</p>
<pre><code>function Thing () {
}
Thing.prototype.foo = &quot;bar&quot;;
Thing.prototype.logFoo = function () {
eval(&quot;console.log(this.foo)&quot;); //logs &quot;bar&quot;
}
var thing = new Thing();
thing.logFoo();    
</code></pre><h1 id="with-this"><a href="#with-this" class="headerlink" title="with this"></a>with this</h1><p>ä½ å¯ä»¥é€šè¿‡withæ¥å°†thisæ·»åŠ åˆ°å½“å‰çš„æ‰§è¡Œç¯å¢ƒï¼Œå¹¶ä¸”è¯»å†™thisçš„å±æ€§çš„æ—¶å€™ä¸éœ€è¦é€šè¿‡this</p>
<pre><code>1 function Thing () {
2 }
3 Thing.prototype.foo = &quot;bar&quot;;
4 Thing.prototype.logFoo = function () {
5     with (this) {
6         console.log(foo);
7         foo = &quot;foo&quot;;
8     }
9 }
10 
11 var thing = new Thing();
12 thing.logFoo(); // logs &quot;bar&quot;
13 console.log(thing.foo); // logs &quot;foo&quot;    
</code></pre><h1 id="jQuery-this"><a href="#jQuery-this" class="headerlink" title="jQuery this"></a>jQuery this</h1><p>å’ŒHTML DOMå…ƒç´ èŠ‚ç‚¹çš„äº‹ä»¶å¤„ç†ç¨‹åºä¸€æ ·ï¼Œåœ¨è®¸å¤šæƒ…å†µä¸‹JQueryçš„thiséƒ½æŒ‡å‘HTMLå…ƒç´ èŠ‚ç‚¹ã€‚è¿™åœ¨äº‹ä»¶å¤„ç†ç¨‹åºå’Œä¸€äº›æ–¹ä¾¿çš„æ–¹æ³•ä¸­éƒ½æ˜¯ç®¡ç”¨çš„ï¼Œæ¯”å¦‚$.each</p>
<pre><code>1 &lt;div class=&quot;foo bar1&quot;&gt;&lt;/div&gt;
2 &lt;div class=&quot;foo bar2&quot;&gt;&lt;/div&gt;
3 &lt;script type=&quot;text/javascript&quot;&gt;
4 $(&quot;.foo&quot;).each(function () {
5     console.log(this); //logs &lt;div class=&quot;foo...
6 });
7 $(&quot;.foo&quot;).on(&quot;click&quot;, function () {
8     console.log(this); //logs &lt;div class=&quot;foo...
9 });
10 $(&quot;.foo&quot;).each(function () {
11     this.click();
12 });
13 &lt;/script&gt;
</code></pre><h1 id="thisArg-this"><a href="#thisArg-this" class="headerlink" title="thisArg this"></a>thisArg this</h1><p>å¦‚æœä½ ç”¨è¿‡underscore.js æˆ–è€… lo-dash ä½ å¯èƒ½çŸ¥é“è®¸å¤šç±»åº“çš„æ–¹æ³•å¯ä»¥é€šè¿‡ä¸€ä¸ªå«åšthisArg çš„å‡½æ•°å‚æ•°æ¥ä¼ é€’å®ä¾‹ï¼Œè¿™ä¸ªå‡½æ•°å‚æ•°ä¼šä½œä¸ºthisçš„ä¸Šä¸‹æ–‡ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œè¿™é€‚ç”¨äº_.eachã€‚åŸç”Ÿçš„JavaScriptåœ¨ECMAScript 5çš„æ—¶å€™ä¹Ÿå…è®¸å‡½æ•°ä¼ é€’ä¸€ä¸ªthisArgå‚æ•°äº†ï¼Œæ¯”å¦‚forEachã€‚äº‹å®ä¸Šï¼Œä¹‹å‰é˜è¿°çš„bindï¼Œapplyå’Œcallçš„ä½¿ç”¨å·²ç»ç»™ä½ åˆ›é€ äº†ä¼ é€’thisArgå‚æ•°ç»™å‡½æ•°çš„æœºä¼šã€‚è¿™ä¸ªå‚æ•°å°†thisç»‘å®šä¸ºä½ æ‰€ä¼ é€’çš„å¯¹è±¡ã€‚</p>
<pre><code>1 function Thing(type) {
2     this.type = type;
3 }
4 Thing.prototype.log = function (thing) {
5     console.log(this.type, thing);
6 }
7 Thing.prototype.logThings = function (arr) {
8    arr.forEach(this.log, this); // logs &quot;fruit apples...&quot;
9    _.each(arr, this.log, this); //logs &quot;fruit apples...&quot;
10 }
11 
12 var thing = new Thing(&quot;fruit&quot;);
13 thing.logThings([&quot;apples&quot;, &quot;oranges&quot;,
&quot;strawberries&quot;, &quot;bananas&quot;]);         
</code></pre>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/01/12/this/" class="archive-article-date">
  	<time datetime="2016-01-12T06:32:26.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-01-12</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>








<!-- å¤šè¯´è¯„è®ºæ¡† start -->
  <div class="ds-thread" data-thread-key="post-this" data-title="this" data-url="undefined"></div>

<!-- å¤šè¯´è¯„è®ºæ¡† end -->
<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"wzj1996"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->

  
    <article id="post-boke" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/11/boke/">boke</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="gulpè¯¦ç»†å…¥é—¨æ•™ç¨‹"><a href="#gulpè¯¦ç»†å…¥é—¨æ•™ç¨‹" class="headerlink" title="gulpè¯¦ç»†å…¥é—¨æ•™ç¨‹"></a>gulpè¯¦ç»†å…¥é—¨æ•™ç¨‹</h1><p>æœ€è¿‘ä½¿ç”¨gulpè‡ªåŠ¨åŒ–æ„å»ºå·¥å…·æ¥å¼€å‘ç½‘ç«™ï¼Œåœ¨æ­¤ç»™å¤§å®¶åˆ†äº«ä¸‹ä½¿ç”¨gulpçš„ä¸€äº›ä½¿ç”¨æ•™ç¨‹ã€‚</p>
<p>ä¸€ gulpå®‰è£…</p>
<p>1ã€å®‰è£…Nodejs</p>
<pre><code>1.1ã€è¯´æ˜:gulpæ˜¯åŸºäºnodejsï¼Œç†æ‰€å½“ç„¶éœ€è¦å®‰è£…Nodejs
1.2ã€å®‰è£…:æ‰“å¼€nodejså®˜ç½‘,ç‚¹å‡»ç»¿è‰²ä¸‹è½½æŒ‰é’®ï¼Œå®ƒä¼šæ ¹æ®ç³»ç»Ÿä¿¡æ¯é€‰æ‹©å¯¹åº”(.msiæ–‡ä»¶).
</code></pre><p>2ã€å…¨å±€å®‰è£…gulp</p>
<pre><code>2ã€1    è¯´æ˜:è¯´æ˜å…¨å±€å®‰è£…gulpç›®çš„æ˜¯ä¸ºäº†é€šè¿‡å¥¹åªæƒ³gulpä»»åŠ¡;
2ã€2å®‰è£…:å‘½ä»¤æç¤ºç¬¦æ‰§è¡Œnpm install gulp-g;
2ã€3æŸ¥çœ‹æ˜¯å¦æ­£ç¡®å®‰è£…:å‘½ä»¤æç¤ºç¬¦æ‰§è¡Œgulp-v,å‡ºç°ç‰ˆæœ¬å·ä¸ºå®‰è£…æˆåŠŸ
</code></pre><p>3ã€æ–°å»ºpackage.jsonæ–‡ä»¶</p>
<pre><code>3ã€1 è¯´æ˜:package.jsonæ˜¯åŸºäºnodejsé¡¹ç›®å¿…ä¸å¯å°‘çš„é…ç½®æ–‡ä»¶ï¼Œå®ƒæ˜¯å­˜æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•çš„æ™®é€šjsonæ–‡ä»¶;
3ã€2 æ‰§è¡Œå‘½ä»¤æç¤ºç¬¦æ‰§è¡Œnpm initè¿›è¡Œæ‰‹åŠ¨å®‰è£…
3.3 å®‰è£…å®Œæˆåå›åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹çœ‹åˆ°å¦‚ä¸‹package.json
</code></pre><p><img src="http://upload-images.jianshu.io/upload_images/3164024-76d2e9fa62a00632.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Mou"><br>    æ–‡ä»¶è¯´æ˜ï¼š</p>
<pre><code>&quot;name&quot;:&quot;test&quot;,//é¡¹ç›®åç§°ï¼ˆå¿…é¡»ï¼‰
&quot;version&quot;:1.0.0,//é¡¹ç›®ç‰ˆæœ¬ï¼ˆå¿…é¡»ï¼‰
&quot;description&quot;:&quot;This is for study gulp             â€œproject !&quot;,//é¡¹ç›®æè¿°ï¼ˆå¿…é¡»ï¼‰
&quot;devDependencies&quot;:{//é¡¹ç›®ä¾èµ–çš„æ’ä»¶
3.4ã€æŸ¥çœ‹package.jsonå¸®åŠ©æ–‡æ¡£ï¼Œå‘½ä»¤æç¤ºç¬¦æ‰§è¡Œnpm help package.json
</code></pre><p>4ã€å®‰è£…æœ¬åœ°gulpåŠå…¶å¸¸ç”¨æ’ä»¶</p>
<pre><code>4.1ã€æ‰§è¡Œå‘½ä»¤è¡Œnpm install gulo å®‰è£…æœ¬åœ°gulp
4.2ã€å®‰è£…guloæ’ä»¶:ä»¥gulp-sassä¸ºä¾‹:
    æ‰§è¡Œånpm install gulp-sasså³å¯å®‰è£…gulp-sassæ’ä»¶ï¼Œå®‰è£…å®Œæˆåå³å¯åœ¨node_modulesæ–‡ä»¶å¤¹ä¸‹æŸ¥çœ‹åˆ°æ–°å®‰è£…çš„æ’ä»¶
</code></pre><p>5ã€æ–°å»ºgulpfile.jsæ–‡ä»¶ï¼ˆå¿…é¡»ï¼‰</p>
<pre><code>5.1ã€è¯´æ˜:gulpfile.jsæ˜¯gulpé¡¹ç›®ç›®çš„é…ç½®æ–‡ä»¶,æ˜¯ä½äºé¡¹ç›®æ ¹ç›®å½•çš„æ™®é€šjsæ–‡ä»¶ï¼ˆå…¶å®å°†gulp.jsæ”¾å…¥å…¶ä»–æ–‡ä»¶å¤¹ä¸‹ä¹Ÿæ˜¯å¯ä»¥çš„ï¼‰
5.2ã€gulpfile.jsæ–‡ä»¶ç”¨æ³•ï¼ˆä»¥gulp-sassä¸ºä¾‹ï¼‰
    5.2.1    å¯¼å…¥å·¥å…·åŒ…require(&apos;node_modulesé‡Œå¯¹åº”æ¨¡å—&apos;)
        var gulp=require(&apos;gulp&apos;)
        var less=require(&apos;gulp-less);
    5.2ã€å®šä¹‰ä¸€ä¸ªtestLessä»»åŠ¡ï¼ˆè‡ªå®šä¹‰ä»»åŠ¡åç§°ï¼‰
        gulp.task(&apos;testLess&apos;,function(){
        gulp.src(&apos;src/less/index.less&apos;)//è¯¥ä»»åŠ¡é’ˆå¯¹çš„æ–‡ä»¶
        .pipe(less())//è¯¥ä»»åŠ¡è°ƒç”¨çš„æ¨¡å—
        .pipe(gulp.dest(&apos;src/css&apos;));/å°†ä¼šåœ¨src/cssä¸‹ç”Ÿæˆindex.css
        })
        gulp.task(&apos;default&apos;,[&apos;watch&apos;],function(){
        //å®šä¹‰é»˜è®¤ä»»åŠ¡ å¹¶è®©gulpç›‘è§†æ–‡ä»¶å˜åŒ–è‡ªåŠ¨æ‰§è¡Œ
        gulp.watch(&apos;sass/*.scss&apos;,[&apos;sass&apos;])
        })
</code></pre><p>#äºŒã€gulpå¸¸ç”¨æ’ä»¶</p>
<p>  1ã€gulp-uglify(jså‹ç¼©)<br>å®‰è£…ï¼šnpm install â€“save-dev gulp-uglify</p>
<pre><code>gulpfile.jsä»£ç å¦‚ä¸‹:

var gulp = require(&apos;gulp&apos;),
var rename= require(&apos;gulp-rename&apos;)
var uglify= require(&quot;gulp-uglify&quot;);
gulp.task(&apos;rename&apos;,function() {
gulp.src(&apos;src/**/*.js&apos;)
.pipe(uglify())//å‹ç¼©
.pipe(rename(&apos;index.min.js&apos;))    
.pipe(gulp.dest(&apos;build/js&apos;));});
gulp.task(&apos;default&apos;,[&apos;rename&apos;]);    
uglify= require(&quot;gulp-uglify&quot;);
</code></pre><p>2ã€gulp-minify-htmlï¼ˆhtmlå‹ç¼©ï¼‰<br>å®‰è£…ï¼šnpm install â€“save-dev gulp-minify-html</p>
<p>ä»£ç å¦‚ä¸‹ï¼š    </p>
<pre><code>var gulp = require(&apos;gulp&apos;),
var minifyHtml= require(&quot;gulp-minify-html&quot;);
gulp.task(&apos;minify-html&apos;,function() {
gulp.src(&apos;src/**/*.html&apos;)//è¦å‹ç¼©çš„htmlæ–‡ä»¶
 .pipe(minifyHtml())//å‹ç¼©
 .pipe(gulp.dest(&apos;build&apos;));});
 gulp.task(&apos;default&apos;,[&apos;minify-html&apos;]);
</code></pre><p>3ã€ gulp-concat (jsæ–‡ä»¶åˆå¹¶)</p>
<p>å®‰è£…ï¼šnpm install â€“save-dev gulp-concat</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>var gulp = require(&apos;gulp&apos;),
concat= require(&quot;gulp-concat&quot;);
gulp.task(&apos;concat&apos;,function() {
gulp.src(&apos;src/**/*.js&apos;)  //è¦åˆå¹¶çš„æ–‡ä»¶
.pipe(concat(&apos;index.js&apos;))  //åˆå¹¶åŒ¹é…åˆ°çš„jsæ–‡ä»¶å¹¶å‘½åä¸º &quot;index.js&quot;
 .pipe(gulp.dest(&apos;build/js&apos;));});
 gulp.task(&apos;default&apos;,[&apos;concat&apos;]);
</code></pre><p>4ã€gulp-jada</p>
<p>å®‰è£…ï¼šnpm install â€“save-dev  gulp-jada</p>
<p>Gulpfile.jsä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>var gulp= require(&apos;gulp&apos;);
var jade= require(&apos;gulp-jade&apos;);
gulp.task(&quot;jade&quot;,function(){
gulp.src(&quot;./jade/*.jade&quot;)
 .pipe(jade({
 pretty:true
 }))
  .pipe(gulp.dest(&quot;html/&quot;))
  })
   gulp.task(&quot;default&quot;,[&quot;watch&quot;],function(){
    gulp.watch(&quot;jade/*.jade&quot;,[&quot;jade&quot;]);
    })
</code></pre><p>5ã€gulp-less        </p>
<p>å®‰è£…ï¼šnpm install â€“save-dev  gulp-less</p>
<p>Gulpfile.jsä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>var gulp = require(&apos;gulp&apos;),
var less= require(&quot;gulp-less&quot;);
gulp.task(&apos;compile-less&apos;,function() {
 gulp.src(&apos;src/less/*.less&apos;)
  .pipe(less())
   .pipe(gulp.dest(&apos;build/css&apos;));
   });
   gulp.task(&apos;default&apos;,[&apos;compile-less&apos;]);
</code></pre><p>6ã€gulp-sass</p>
<p>å®‰è£…ï¼šnpm install â€“save-dev  gulp-sass</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>var gulp = require(&apos;gulp&apos;),
var sass= require(&quot;gulp-sass&quot;);
gulp.task(&apos;compile-sass&apos;,function() {
 gulp.src(&apos;src/sass/*.sass&apos;)
 .pipe(sass())
  .pipe(gulp.dest(&apos;build/css&apos;));
  });
  gulp.task(&apos;default&apos;,[&apos;compile-sass&apos;]);
</code></pre><p>7ã€gulp-imageminï¼ˆå›¾ç‰‡å‹ç¼©</p>
<p>å®‰è£…ï¼šnpm install â€“save-dev  gulp-imagemin</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>var gulp = require(&apos;gulp&apos;);
var imagemin = require(&apos;gulp-imagemin&apos;);
gulp.task(&apos;uglify-imagemin&apos;,function()    {returngulp.src(&apos;src/images/*&apos;)
.pipe(imagemin())
 .pipe(gulp.dest(&apos;build/images&apos;));
 });
 gulp.task(&apos;default&apos;,[&apos;uglify-imagemin&apos;]);
</code></pre><p>8ã€ç†è§£Browserify</p>
<p>browserifyæ˜¯ä¸€ä¸ªä½¿ç”¨nodeæ”¯æŒçš„CommonJSæ¨¡å—æ ‡å‡† æ¥ä¸ºæµè§ˆå™¨ç¼–è¯‘æ¨¡å—çš„ï¼Œå¯ä»¥è§£å†³æ¨¡å—åŠä¾èµ–ç®¡ç†ï¼›</p>
<p>å…ˆæ¥çœ‹çœ‹ä½¿ç”¨gulpå¸¸è§çš„é—®é¢˜ï¼š</p>
<p>1ã€ ä½¿ç”¨ gulp è¿‡ç¨‹ä¸­ï¼Œå¶å°”ä¼šé‡åˆ° Streaming not supported è¿™æ ·çš„é”™è¯¯ã€‚è¿™é€šå¸¸æ˜¯å› ä¸ºå¸¸è§„æµä¸ vinyl æ–‡ä»¶å¯¹è±¡æµæœ‰å·®å¼‚ã€<br>gulp æ’ä»¶é»˜è®¤ä½¿ç”¨äº†åªæ”¯æŒ buffer ï¼ˆä¸æ”¯æŒ streamï¼‰çš„åº“ã€‚æ¯”å¦‚ï¼Œä¸èƒ½æŠŠ Node å¸¸è§„æµç›´æ¥ä¼ é€’ç»™ gulp åŠå…¶æ’ä»¶ã€‚</p>
<p>æ¯”å¦‚å¦‚ä¸‹ä»£ç ï¼šä¼šæŠ›å‡ºå¼‚å¸¸çš„ï¼›</p>
<pre><code>vargulp = require(&apos;gulp&apos;);
varuglify = require(&apos;gulp-uglify&apos;);
varconcat = require(&apos;gulp-concat&apos;);
varrename = require(&apos;gulp-rename&apos;);varfs = require(&apos;fs&apos;);
gulp.task(&apos;bundle&apos;,function() {returnfs.createReadStream(&apos;./test.txt&apos;)
.pipe(uglify())
.pipe(rename(&apos;bundle.min.js&apos;))
 .pipe(gulp.dest(&apos;dist/&apos;));
 });
 gulp.task(&apos;default&apos;,[&apos;bundle&apos;]);
</code></pre><p>å¸Œæœ›èƒ½å¸®åŠ©åˆ°ä½ ä»¬~~            </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/01/11/boke/" class="archive-article-date">
  	<time datetime="2016-01-11T13:26:36.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-01-11</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>








<!-- å¤šè¯´è¯„è®ºæ¡† start -->
  <div class="ds-thread" data-thread-key="post-boke" data-title="boke" data-url="undefined"></div>

<!-- å¤šè¯´è¯„è®ºæ¡† end -->
<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"wzj1996"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->

  
  


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 ç‰¹ä»‘è‹
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">å…¨éƒ¨</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">æ ‡ç­¾</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">å‹é“¾</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">æˆ‘</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">å‹æƒ…é“¾æ¥1</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">å‹æƒ…é“¾æ¥2</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">å‹æƒ…é“¾æ¥3</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">å‹æƒ…é“¾æ¥4</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">å‹æƒ…é“¾æ¥5</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">å‹æƒ…é“¾æ¥6</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">å¾ˆæƒ­æ„§&lt;br&gt;&lt;br&gt;åªåšäº†ä¸€ç‚¹å¾®å°çš„å·¥ä½œ&lt;br&gt;è°¢è°¢å¤§å®¶</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>